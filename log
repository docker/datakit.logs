=== Docker build Dockerfile.client
[2019-04-13 20:03.49] Starting...
Cloning into '/tmp/with_clone28e46e81'...
done.
HEAD is now at fcfae1f Dockerfiles: update to latest opam repository snapshot
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 5.956 MB
Step 1/16 : FROM ocaml/opam2:alpine
alpine: Pulling from ocaml/opam2
Digest: sha256:ff181c65a9850ab2a4da983b4496ab30e68f68e076474a7605b4ba2522aeb24a
Status: Image is up to date for ocaml/opam2:alpine
 ---> 29728b366e85
Step 2/16 : RUN sudo apk add --no-cache tzdata aspcud gmp-dev perl libev-dev m4
 ---> Using cache
 ---> 9845c9095217
Step 3/16 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Using cache
 ---> a314e26d5d73
Step 4/16 : RUN git -C /home/opam/opam-repository fetch origin &&     git -C /home/opam/opam-repository reset df84483e523f1eec710a2118e05920f9cdf882d3 --hard &&     opam update -u
 ---> Running in 9cb87ec76dda
[91mFrom git://github.com/ocaml/opam-repository
   c261c4ee9c..df84483e52  master     -> origin/master
[0m[91mChecking out files:  32% (4140/12883)   [0m[91mChecking out files:  33% (4252/12883)   [0m[91mChecking out files:  34% (4381/12883)   [0m[91mChecking out files:  35% (4510/12883)   [0m[91mChecking out files:  36% (4638/12883)   [0m[91mChecking out files:  37% (4767/12883)   [0m[91mChecking out files:  38% (4896/12883)   [0m[91mChecking out files:  39% (5025/12883)   [0m[91mChecking out files:  40% (5154/12883)   [0m[91mChecking out files:  41% (5283/12883)   [0m[91mChecking out files:  42% (5411/12883)   [0m[91mChecking out files:  43% (5540/12883)   [0m[91mChecking out files:  44% (5669/12883)   [0m[91mChecking out files:  45% (5798/12883)   [0m[91mChecking out files:  46% (5927/12883)   [0m[91mChecking out files:  47% (6056/12883)   [0m[91mChecking out files:  48% (6184/12883)   [0m[91mChecking out files:  49% (6313/12883)   [0m[91mChecking out files:  50% (6442/12883)   [0m[91mChecking out files:  51% (6571/12883)   [0m[91mChecking out files:  52% (6700/12883)   [0m[91mChecking out files:  53% (6828/12883)   [0m[91mChecking out files:  54% (6957/12883)   [0m[91mChecking out files:  55% (7086/12883)   [0m[91mChecking out files:  56% (7215/12883)   [0m[91mChecking out files:  57% (7344/12883)   [0m[91mChecking out files:  57% (7351/12883)   [0m[91mChecking out files:  58% (7473/12883)   [0m[91mChecking out files:  59% (7601/12883)   [0m[91mChecking out files:  60% (7730/12883)   [0m[91mChecking out files:  61% (7859/12883)   [0m[91mChecking out files:  62% (7988/12883)   [0m[91mChecking out files:  63% (8117/12883)   [0m[91mChecking out files:  64% (8246/12883)   [0m[91mChecking out files:  65% (8374/12883)   [0m[91mChecking out files:  66% (8503/12883)   [0m[91mChecking out files:  67% (8632/12883)   [0m[91mChecking out files:  68% (8761/12883)   [0m[91mChecking out files:  69% (8890/12883)   [0m[91mChecking out files:  70% (9019/12883)   [0m[91mChecking out files:  71% (9147/12883)   [0m[91mChecking out files:  72% (9276/12883)   [0m[91mChecking out files:  73% (9405/12883)   [0m[91mChecking out files:  74% (9534/12883)   [0m[91mChecking out files:  75% (9663/12883)   [0m[91mChecking out files:  76% (9792/12883)   [0m[91mChecking out files:  77% (9920/12883)   [0m[91mChecking out files:  78% (10049/12883)   [0m[91mChecking out files:  79% (10178/12883)   [0m[91mChecking out files:  80% (10307/12883)   [0m[91mChecking out files:  81% (10436/12883)   [0m[91mChecking out files:  82% (10565/12883)   [0m[91mChecking out files:  83% (10693/12883)   [0m[91mChecking out files:  83% (10788/12883)   [0m[91mChecking out files:  84% (10822/12883)   [0m[91mChecking out files:  85% (10951/12883)   [0m[91mChecking out files:  86% (11080/12883)   [0m[91mChecking out files:  87% (11209/12883)   [0m[91mChecking out files:  88% (11338/12883)   [0m[91mChecking out files:  89% (11466/12883)   [0m[91mChecking out files:  90% (11595/12883)   [0m[91mChecking out files:  91% (11724/12883)   [0m[91mChecking out files:  92% (11853/12883)   [0m[91mChecking out files:  93% (11982/12883)   [0m[91mChecking out files:  94% (12111/12883)   [0m[91mChecking out files:  95% (12239/12883)   [0m[91mChecking out files:  96% (12368/12883)   [0m[91mChecking out files:  97% (12497/12883)   [0m[91mChecking out files:  98% (12626/12883)   [0m[91mChecking out files:  99% (12755/12883)   [0m[91mChecking out files: 100% (12883/12883)   Checking out files: 100% (12883/12883), done.
[0mHEAD is now at df84483e52 Merge pull request #13947 from avsm/release-protocol-9p-2.0.1

<><> Updating package repositories ><><><><><><><><><><><><><><><><><><><><><><>
[default] synchronised from git+file:///home/opam/opam-repository

Already up-to-date.
Nothing to do.
# Run eval $(opam env) to update the current shell environment
 ---> ccf15395d39e
Removing intermediate container 9cb87ec76dda
Step 5/16 : RUN opam install alcotest lwt conf-libev inotify
 ---> Running in e7822ba5e7d7
The following actions will be performed:
  - install conf-m4      1          [required by ocamlfind]
  - install conf-libev   4-11
  - install dune         1.9.1      [required by alcotest, lwt]
  - install cmdliner     1.0.3      [required by alcotest]
  - install seq          base       [required by lwt]
  - install ocamlbuild   0.14.0     [required by inotify]
  - install ocamlfind    1.8.0      [required by inotify]
  - install stdlib-shims 0.1.0      [required by fmt]
  - install mmap         1.1.0      [required by lwt]
  - install jbuilder     transition [required by cppo]
  - install base-bytes   base       [required by inotify]
  - install result       1.3        [required by alcotest, lwt]
  - install cppo         1.6.5      [required by lwt]
  - install topkg        1.0.0      [required by fmt, astring, uuidm]
  - install lwt          4.2.1
  - install uuidm        0.9.7      [required by alcotest]
  - install fmt          0.8.6      [required by alcotest]
  - install astring      0.8.3      [required by alcotest]
  - install inotify      2.3
  - install alcotest     0.8.5
===== 20 to install =====

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[astring.0.8.3] downloaded from http://erratique.ch/software/astring/releases/astring-0.8.3.tbz
[cmdliner.1.0.3] downloaded from http://erratique.ch/software/cmdliner/releases/cmdliner-1.0.3.tbz
[cppo.1.6.5] downloaded from https://github.com/mjambon/cppo/archive/v1.6.5.tar.gz
[alcotest.0.8.5] downloaded from https://github.com/mirage/alcotest/releases/download/0.8.5/alcotest-0.8.5.tbz
[fmt.0.8.6] downloaded from https://erratique.ch/software/fmt/releases/fmt-0.8.6.tbz
[dune.1.9.1] downloaded from https://github.com/ocaml/dune/releases/download/1.9.1/dune-1.9.1.tbz
[inotify.2.3] downloaded from https://github.com/whitequark/ocaml-inotify/archive/v2.3.tar.gz
[lwt.4.2.1] downloaded from https://github.com/ocsigen/lwt/archive/4.2.1.tar.gz
[ocamlfind.1.8.0] downloaded from http://download.camlcity.org/download/findlib-1.8.0.tar.gz
[mmap.1.1.0] downloaded from https://github.com/mirage/mmap/releases/download/v1.1.0/mmap-v1.1.0.tbz
[ocamlbuild.0.14.0] downloaded from https://github.com/ocaml/ocamlbuild/archive/0.14.0.tar.gz
[topkg.1.0.0] downloaded from http://erratique.ch/software/topkg/releases/topkg-1.0.0.tbz
[uuidm.0.9.7] downloaded from https://erratique.ch/software/uuidm/releases/uuidm-0.9.7.tbz
[result.1.3] downloaded from https://github.com/janestreet/result/releases/download/1.3/result-1.3.tbz
[stdlib-shims.0.1.0] downloaded from https://github.com/ocaml/stdlib-shims/releases/download/0.1.0/stdlib-shims-0.1.0.tbz

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> installed seq.base
-> installed conf-libev.4-11
-> installed conf-m4.1
-> installed cmdliner.1.0.3
-> installed ocamlfind.1.8.0
-> installed base-bytes.base
-> installed ocamlbuild.0.14.0
-> installed dune.1.9.1
-> installed jbuilder.transition
-> installed stdlib-shims.0.1.0
-> installed mmap.1.1.0
-> installed result.1.3
-> installed cppo.1.6.5
-> installed topkg.1.0.0
-> installed lwt.4.2.1
-> installed astring.0.8.3
-> installed fmt.0.8.6
-> installed uuidm.0.9.7
-> installed alcotest.0.8.5
-> installed inotify.2.3
Done.

<><> jbuilder.transition installed successfully <><><><><><><><><><><><><><><><>
=> Jbuilder has been renamed and the jbuilder package is now a transition package. Use the dune package instead.
# Run eval $(opam env) to update the current shell environment
 ---> 94f1b88580f5
Removing intermediate container e7822ba5e7d7
Step 6/16 : COPY check-libev.ml /tmp/check-libev.ml
 ---> bab2bff32e46
Removing intermediate container bb185e979417
Step 7/16 : RUN opam config exec -- ocaml /tmp/check-libev.ml
 ---> Running in ec63d174f84c
 ---> 26d4936028dc
Error removing intermediate container ec63d174f84c: driver "aufs" failed to remove root filesystem for ec63d174f84c8107ca25bc9e61c88d207ef81f7d4aabfb155ba7d9017367f948: could not remove diff path for id 9bb389adc2859315fba2420a6b86cfa0d80caf2e1e86b72dbb46586ecac88940: error preparing atomic delete: rename /var/lib/docker/aufs/diff/9bb389adc2859315fba2420a6b86cfa0d80caf2e1e86b72dbb46586ecac88940 /var/lib/docker/aufs/diff/9bb389adc2859315fba2420a6b86cfa0d80caf2e1e86b72dbb46586ecac88940-removing: device or resource busy
Step 8/16 : COPY *.opam /home/opam/src/datakit/
 ---> 1f72e8927511
Removing intermediate container ec63d174f84c
Error removing intermediate container 47d4da5ac1ed: driver "aufs" failed to remove root filesystem for 47d4da5ac1ed1a29ac004ef88b3b495c825df7bd7185de4d5656999b083c6e15: could not remove diff path for id fb4fec4600444b333ffa10323c5f59d95bbd3b8b745b61f97f891f8b4a0e8b52: error preparing atomic delete: rename /var/lib/docker/aufs/diff/fb4fec4600444b333ffa10323c5f59d95bbd3b8b745b61f97f891f8b4a0e8b52 /var/lib/docker/aufs/diff/fb4fec4600444b333ffa10323c5f59d95bbd3b8b745b61f97f891f8b4a0e8b52-removing: device or resource busy
Step 9/16 : RUN opam pin add /home/opam/src/datakit/ -n
 ---> Running in 5bab2c40e93d
This will pin the following packages: datakit, datakit-server, datakit-server-9p, datakit-github, datakit-client, datakit-client-git, datakit-client-9p, datakit-ci, datakit-bridge-local-git, datakit-bridge-github. Continue? [Y/n] y
[datakit.0.12.3: rsync]
[datakit.0.12.3] synchronised from file:///home/opam/src/datakit
datakit is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-server.0.12.3: rsync]
[datakit-server.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-server is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-server-9p.0.12.3: rsync]
[datakit-server-9p.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-server-9p is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-github.0.12.3: rsync]
[datakit-github.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-github is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-client.0.12.3: rsync]
[datakit-client.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-client is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-client-git.0.12.3: rsync]
[datakit-client-git.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-client-git is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-client-9p.0.12.3: rsync]
[datakit-client-9p.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-client-9p is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-ci.0.12.3: rsync]
[datakit-ci.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-ci is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-bridge-local-git.0.12.3: rsync]
[datakit-bridge-local-git.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-bridge-local-git is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-bridge-github.0.12.3: rsync]
[datakit-bridge-github.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-bridge-github is now pinned to file:///home/opam/src/datakit (version 0.12.3)
 ---> 6e98c09057da
Error removing intermediate container 5bab2c40e93d: driver "aufs" failed to remove root filesystem for 5bab2c40e93d08513ace01028687e509385be6adf4a6f75c1584628315deb005: could not remove mountpoint for id 6d0e90d5378e1657c9cfec9e08d73decd219d7da1a331b2ce166f5c02bdc97f1: error preparing atomic delete: rename /var/lib/docker/aufs/mnt/6d0e90d5378e1657c9cfec9e08d73decd219d7da1a331b2ce166f5c02bdc97f1 /var/lib/docker/aufs/mnt/6d0e90d5378e1657c9cfec9e08d73decd219d7da1a331b2ce166f5c02bdc97f1-removing: device or resource busy
Step 10/16 : RUN OPAMSOLVERTIMEOUT=120 opam install datakit-client-git datakit-client-9p --deps -t
 ---> Running in bf4244f33b15

<><> Synchronising pinned packages ><><><><><><><><><><><><><><><><><><><><><><>
[datakit-client-9p.0.12.3] no changes from file:///home/opam/src/datakit
[datakit-client-git.0.12.3] no changes from file:///home/opam/src/datakit

The following actions will be performed:
  - install conf-gmp                1
  - install mirage-no-xen           1
  - install ppx_tools               5.1+4.06.0
  - install num                     1.1
  - install uchar                   0.0.2
  - install cpuid                   0.1.2
  - install win-error               1.0
  - install mirage-device           1.2.0
  - install sexplib0                v0.12.0
  - install base64                  3.2.0
  - install mtime                   1.1.0
  - install cppo_ocamlbuild         1.6.0
  - install ocb-stubblr             0.1.1-1
  - install ppx_derivers            1.2.1
  - install stringext               1.5.0
  - install magic-mime              1.1.1
  - install mirage-no-solo5         1
  - install decompress              0.7
  - install conf-perl               1
  - install cstruct                 4.0.0
  - install rresult                 0.6.0
  - install re                      1.9.0
  - install ocamlgraph              1.8.8
  - install logs                    0.6.2
  - install asetmap                 0.8.1
  - install ocaml-compiler-libs     v0.11.0
  - install ocplib-endian           1.0
  - install mirage-flow             1.5.0
  - install bigarray-compat         1.0.0
  - install uutf                    1.0.2
  - install mirage-clock            2.0.0
  - install macaddr                 3.1.0
  - install base                    v0.12.0
  - install ocaml-migrate-parsetree 1.2.0
  - install zarith                  1.7
  - install mstruct                 1.4.0
  - install datakit-client          0.12.3*
  - install cstruct-lwt             4.0.0
  - install irmin-watcher           0.4.0
  - install prometheus              0.5
  - install mirage-channel          3.2.0
  - install io-page                 2.2.0
  - install hex                     1.4.0
  - install jsonm                   1.0.1
  - install mirage-flow-lwt         1.5.0
  - install ipaddr                  3.1.0
  - install stdio                   v0.12.0
  - install parsexp                 v0.12.0
  - install fieldslib               v0.12.0
  - install ppx_deriving            4.2.1
  - install mirage-channel-lwt      3.2.0
  - install ppxlib                  0.5.0
  - install configurator            v0.11.0
  - install sexplib                 v0.12.0
  - install ppx_sexp_conv           v0.12.0
  - install ppx_fields_conv         v0.12.0
  - install io-page-unix            2.2.0
  - install cstruct-sexp            4.0.0
  - install uri                     2.2.0
  - install nocrypto                0.5.4-1
  - install protocol-9p             2.0.1
  - install irmin                   1.4.0
  - install git                     1.11.5
  - install conduit                 1.4.0
  - install cohttp                  2.1.2
  - install protocol-9p-unix        2.0.1
  - install irmin-mem               1.3.0
  - install irmin-git               1.3.0
  - install conduit-lwt             1.4.0
  - install cohttp-lwt              2.0.0
  - install conduit-lwt-unix        1.4.0
  - install git-http                1.11.4
  - install cohttp-lwt-unix         2.0.0
  - install git-unix                1.11.5
===== 74 to install =====

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[asetmap.0.8.1] downloaded from http://erratique.ch/software/asetmap/releases/asetmap-0.8.1.tbz
[base.v0.12.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.12/files/base-v0.12.0.tar.gz
[base64.3.2.0] downloaded from https://github.com/mirage/ocaml-base64/releases/download/v3.2.0/base64-v3.2.0.tbz
[bigarray-compat.1.0.0] downloaded from https://github.com/mirage/bigarray-compat/archive/v1.0.0.tar.gz
[cohttp.2.1.2] downloaded from https://github.com/mirage/ocaml-cohttp/releases/download/v2.1.2/cohttp-v2.1.2.tbz
[cohttp-lwt.2.0.0] downloaded from https://github.com/mirage/ocaml-cohttp/releases/download/v2.0.0/cohttp-v2.0.0.tbz
[cohttp-lwt-unix.2.0.0] downloaded from https://github.com/mirage/ocaml-cohttp/releases/download/v2.0.0/cohttp-v2.0.0.tbz
[conduit.1.4.0] downloaded from https://github.com/mirage/ocaml-conduit/releases/download/v1.4.0/conduit-v1.4.0.tbz
[conduit-lwt.1.4.0] downloaded from https://github.com/mirage/ocaml-conduit/releases/download/v1.4.0/conduit-v1.4.0.tbz
[conduit-lwt-unix.1.4.0] downloaded from https://github.com/mirage/ocaml-conduit/releases/download/v1.4.0/conduit-v1.4.0.tbz
[configurator.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/configurator-v0.11.0.tar.gz
[cpuid.0.1.2] downloaded from https://github.com/pqwy/cpuid/releases/download/v0.1.2/cpuid-v0.1.2.tbz
[cppo_ocamlbuild.1.6.0] downloaded from https://github.com/mjambon/cppo/archive/v1.6.0.tar.gz
[cstruct.4.0.0] downloaded from https://github.com/mirage/ocaml-cstruct/releases/download/v4.0.0/cstruct-v4.0.0.tbz
[datakit-client.0.12.3] synchronised from file:///home/opam/src/datakit
[cstruct-sexp.4.0.0] downloaded from https://github.com/mirage/ocaml-cstruct/releases/download/v4.0.0/cstruct-v4.0.0.tbz
[cstruct-lwt.4.0.0] downloaded from https://github.com/mirage/ocaml-cstruct/releases/download/v4.0.0/cstruct-v4.0.0.tbz
[decompress.0.7] downloaded from https://github.com/mirage/decompress/releases/download/v0.7/decompress-0.7.tbz
[fieldslib.v0.12.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.12/files/fieldslib-v0.12.0.tar.gz
[git.1.11.5] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.11.5/git-1.11.5.tbz
[git-http.1.11.4] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.11.4/git-1.11.4.tbz
[git-unix.1.11.5] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.11.5/git-1.11.5.tbz
[hex.1.4.0] downloaded from https://github.com/mirage/ocaml-hex/releases/download/v1.4.0/hex-v1.4.0.tbz
[io-page.2.2.0] downloaded from https://github.com/mirage/io-page/releases/download/v2.2.0/io-page-v2.2.0.tbz
[io-page-unix.2.2.0] downloaded from https://github.com/mirage/io-page/releases/download/v2.2.0/io-page-v2.2.0.tbz
[ipaddr.3.1.0] downloaded from https://github.com/mirage/ocaml-ipaddr/releases/download/v3.1.0/ipaddr-v3.1.0.tbz
[irmin.1.4.0] downloaded from https://github.com/mirage/irmin/releases/download/1.4.0/irmin-1.4.0.tbz
[irmin-git.1.3.0] downloaded from https://github.com/mirage/irmin/releases/download/1.3.0/irmin-1.3.0.tbz
[jsonm.1.0.1] downloaded from http://erratique.ch/software/jsonm/releases/jsonm-1.0.1.tbz
[logs.0.6.2] downloaded from http://erratique.ch/software/logs/releases/logs-0.6.2.tbz
[macaddr.3.1.0] found in cache
[irmin-mem.1.3.0] downloaded from https://github.com/mirage/irmin/releases/download/1.3.0/irmin-1.3.0.tbz
[irmin-watcher.0.4.0] downloaded from https://github.com/mirage/irmin-watcher/releases/download/0.4.0/irmin-watcher-0.4.0.tbz
[magic-mime.1.1.1] downloaded from https://github.com/mirage/ocaml-magic-mime/releases/download/v1.1.1/magic-mime-v1.1.1.tbz
[mirage-channel.3.2.0] downloaded from https://github.com/mirage/mirage-channel/releases/download/v3.2.0/mirage-channel-v3.2.0.tbz
[mirage-channel-lwt.3.2.0] downloaded from https://github.com/mirage/mirage-channel/releases/download/v3.2.0/mirage-channel-v3.2.0.tbz
[mirage-clock.2.0.0] downloaded from https://github.com/mirage/mirage-clock/releases/download/v2.0.0/mirage-clock-v2.0.0.tbz
[mirage-device.1.2.0] downloaded from https://github.com/mirage/mirage-device/releases/download/v1.2.0/mirage-device-v1.2.0.tbz
[mirage-flow.1.5.0] downloaded from https://github.com/mirage/mirage-flow/releases/download/v1.5.0/mirage-flow-1.5.0.tbz
[mtime.1.1.0] downloaded from http://erratique.ch/software/mtime/releases/mtime-1.1.0.tbz
[mirage-flow-lwt.1.5.0] downloaded from https://github.com/mirage/mirage-flow/releases/download/v1.5.0/mirage-flow-1.5.0.tbz
[mstruct.1.4.0] downloaded from https://github.com/mirage/ocaml-mstruct/releases/download/v1.4.0/mstruct-1.4.0.tbz
[ocaml-compiler-libs.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/ocaml-compiler-libs-v0.11.0.tar.gz
[num.1.1] downloaded from https://github.com/ocaml/num/archive/v1.1.tar.gz
[ocamlgraph.1.8.8] downloaded from http://ocamlgraph.lri.fr/download/ocamlgraph-1.8.8.tar.gz
[nocrypto.0.5.4-1] downloaded from https://github.com/mirleft/ocaml-nocrypto/releases/download/v0.5.4/nocrypto-0.5.4.tbz
[ocaml-migrate-parsetree.1.2.0] downloaded from https://github.com/ocaml-ppx/ocaml-migrate-parsetree/releases/download/v1.2.0/ocaml-migrate-parsetree-v1.2.0.tbz
[ocb-stubblr.0.1.1-1] downloaded from https://github.com/pqwy/ocb-stubblr/releases/download/v0.1.1/ocb-stubblr-0.1.1.tbz
[parsexp.v0.12.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.12/files/parsexp-v0.12.0.tar.gz
[ocplib-endian.1.0] downloaded from https://github.com/OCamlPro/ocplib-endian/archive/1.0.tar.gz
[ppx_derivers.1.2.1] downloaded from https://github.com/ocaml-ppx/ppx_derivers/archive/1.2.1.tar.gz
[ppx_fields_conv.v0.12.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.12/files/ppx_fields_conv-v0.12.0.tar.gz
[ppx_deriving.4.2.1] downloaded from https://github.com/ocaml-ppx/ppx_deriving/archive/v4.2.1.tar.gz
[ppx_sexp_conv.v0.12.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.12/files/ppx_sexp_conv-v0.12.0.tar.gz
[ppx_tools.5.1+4.06.0] downloaded from https://github.com/ocaml-ppx/ppx_tools/archive/5.1+4.06.0.tar.gz
[prometheus.0.5] downloaded from https://github.com/mirage/prometheus/releases/download/v0.5/prometheus-0.5.tbz
[ppxlib.0.5.0] downloaded from https://github.com/ocaml-ppx/ppxlib/releases/download/0.5.0/ppxlib-0.5.0.tbz
[protocol-9p.2.0.1] downloaded from https://github.com/mirage/ocaml-9p/releases/download/v2.0.1/protocol-9p-v2.0.1.tbz
[rresult.0.6.0] downloaded from http://erratique.ch/software/rresult/releases/rresult-0.6.0.tbz
[protocol-9p-unix.2.0.1] downloaded from https://github.com/mirage/ocaml-9p/releases/download/v2.0.1/protocol-9p-v2.0.1.tbz
[re.1.9.0] downloaded from https://github.com/ocaml/ocaml-re/releases/download/1.9.0/re-1.9.0.tbz
[sexplib.v0.12.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.12/files/sexplib-v0.12.0.tar.gz
[sexplib0.v0.12.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.12/files/sexplib0-v0.12.0.tar.gz
[stdio.v0.12.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.12/files/stdio-v0.12.0.tar.gz
[stringext.1.5.0] downloaded from https://github.com/rgrinberg/stringext/archive/1.5.0.zip
[uchar.0.0.2] downloaded from https://github.com/ocaml/uchar/releases/download/v0.0.2/uchar-0.0.2.tbz
[uutf.1.0.2] downloaded from http://erratique.ch/software/uutf/releases/uutf-1.0.2.tbz
[uri.2.2.0] downloaded from https://github.com/mirage/ocaml-uri/releases/download/v2.2.0/uri-v2.2.0.tbz
[win-error.1.0] downloaded from https://github.com/mirage/ocaml-win-error/releases/download/1.0/win-error-1.0.tbz
[zarith.1.7] downloaded from https://github.com/ocaml/Zarith/archive/release-1.7.tar.gz

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> installed mirage-no-solo5.1
-> installed mirage-no-xen.1
-> installed asetmap.0.8.1
-> installed bigarray-compat.1.0.0
-> installed conf-gmp.1
-> installed conf-perl.1
-> installed cppo_ocamlbuild.1.6.0
-> installed cpuid.0.1.2
-> installed cstruct.4.0.0
-> installed decompress.0.7
-> installed logs.0.6.2
-> installed magic-mime.1.1.1
-> installed mirage-device.1.2.0
-> installed mirage-flow.1.5.0
-> installed mtime.1.1.0
-> installed ocaml-compiler-libs.v0.11.0
-> installed ppx_derivers.1.2.1
-> installed ppx_tools.5.1+4.06.0
-> installed base64.3.2.0
-> installed cstruct-lwt.4.0.0
-> installed datakit-client.0.12.3
-> installed hex.1.4.0
-> installed io-page.2.2.0
-> installed irmin-watcher.0.4.0
-> installed mirage-channel.3.2.0
-> installed mirage-clock.2.0.0
-> installed mstruct.1.4.0
-> installed re.1.9.0
-> installed rresult.0.6.0
-> installed sexplib0.v0.12.0
-> installed stringext.1.5.0
-> installed win-error.1.0
-> installed ocplib-endian.1.0
-> installed macaddr.3.1.0
-> installed mirage-flow-lwt.1.5.0
-> installed num.1.1
-> installed ipaddr.3.1.0
-> installed ocaml-migrate-parsetree.1.2.0
-> installed ocamlgraph.1.8.8
-> installed base.v0.12.0
-> installed mirage-channel-lwt.3.2.0
-> installed ocb-stubblr.0.1.1-1
-> installed prometheus.0.5
-> installed uchar.0.0.2
-> installed zarith.1.7
-> installed fieldslib.v0.12.0
-> installed parsexp.v0.12.0
-> installed ppx_deriving.4.2.1
-> installed stdio.v0.12.0
-> installed uutf.1.0.2
-> installed sexplib.v0.12.0
-> installed configurator.v0.11.0
-> installed jsonm.1.0.1
-> installed cstruct-sexp.4.0.0
-> installed io-page-unix.2.2.0
-> installed ppxlib.0.5.0
-> installed ppx_fields_conv.v0.12.0
-> installed ppx_sexp_conv.v0.12.0
-> installed uri.2.2.0
-> installed protocol-9p.2.0.1
-> installed conduit.1.4.0
-> installed cohttp.2.1.2
-> installed git.1.11.5
-> installed nocrypto.0.5.4-1
-> installed irmin.1.4.0
-> installed protocol-9p-unix.2.0.1
-> installed conduit-lwt.1.4.0
-> installed cohttp-lwt.2.0.0
-> installed irmin-git.1.3.0
-> installed irmin-mem.1.3.0
-> installed conduit-lwt-unix.1.4.0
-> installed git-http.1.11.4
-> installed cohttp-lwt-unix.2.0.0
-> installed git-unix.1.11.5
Done.
# Run eval $(opam env) to update the current shell environment
 ---> 1aab6df951ef
Removing intermediate container 5bab2c40e93d
Removing intermediate container 47d4da5ac1ed
Removing intermediate container bf4244f33b15
Step 11/16 : COPY . /home/opam/src/datakit
 ---> 391318a05536
Removing intermediate container 5dfe17774a5c
Step 12/16 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in e367c1f27bd8
 ---> 6d7a128e5b14
Removing intermediate container e367c1f27bd8
Step 13/16 : RUN opam update --dev && opam upgrade
 ---> Running in 918d7e2610ef

<><> Synchronising development packages <><><><><><><><><><><><><><><><><><><><>
[datakit.0.12.3] synchronised from file:///home/opam/src/datakit
[datakit-bridge-github.0.12.3] synchronised from file:///home/opam/src/datakit
[datakit-bridge-local-git.0.12.3] synchronised from file:///home/opam/src/datakit
[datakit-ci.0.12.3] synchronised from file:///home/opam/src/datakit
[datakit-client.0.12.3] synchronised from file:///home/opam/src/datakit
[datakit-client-9p.0.12.3] synchronised from file:///home/opam/src/datakit
[datakit-client-git.0.12.3] synchronised from file:///home/opam/src/datakit
[datakit-github.0.12.3] synchronised from file:///home/opam/src/datakit
[datakit-server.0.12.3] synchronised from file:///home/opam/src/datakit
[datakit-server-9p.0.12.3] synchronised from file:///home/opam/src/datakit
Now run 'opam upgrade' to apply any package updates.
The following actions will be performed:
  - recompile datakit-client 0.12.3* [upstream changes]
[datakit-client.0.12.3] no changes from file:///home/opam/src/datakit

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> removed   datakit-client.0.12.3
-> installed datakit-client.0.12.3
Done.
# Run eval $(opam env) to update the current shell environment
 ---> b26f2ef1e0e1
Removing intermediate container 918d7e2610ef
Step 14/16 : RUN opam install datakit-client-9p datakit-client-git -tyv
 ---> Running in 9028e15eb29c

<><> Synchronising pinned packages ><><><><><><><><><><><><><><><><><><><><><><>
Processing  1/2: [datakit-client-9p.0.12.3: rsync]
Processing  2/2: [datakit-client-9p.0.12.3: rsync] [datakit-client-git.0.12.3: rsync]
[datakit-client-9p.0.12.3] no changes from file:///home/opam/src/datakit
Processing  2/2: [datakit-client-git.0.12.3: rsync]
[datakit-client-git.0.12.3] no changes from file:///home/opam/src/datakit

The following actions will be performed:
  - install datakit-client-git 0.12.3*
  - install datakit-client-9p  0.12.3*
===== 2 to install =====
Processing  1/2: [datakit-client-9p.0.12.3: rsync]
Processing  2/2: [datakit-client-9p.0.12.3: rsync] [datakit-client-git.0.12.3: rsync]
[datakit-client-9p.0.12.3] synchronised from file:///home/opam/src/datakit
Processing  2/2: [datakit-client-git.0.12.3: rsync]
[datakit-client-git.0.12.3] synchronised from file:///home/opam/src/datakit

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
Processing  1/4: [datakit-client-9p: dune build]
Processing  2/4: [datakit-client-9p: dune build] [datakit-client-git: dune build]
+ /home/opam/.opam/4.07/bin/dune "build" "-p" "datakit-client-9p" "-j" "71" (CWD=/home/opam/.opam/4.07/.opam-switch/build/datakit-client-9p.0.12.3)
-> compiled  datakit-client-9p.0.12.3
Processing  2/4: [datakit-client-git: dune build]
-> installed datakit-client-9p.0.12.3
Processing  3/4: [datakit-client-git: dune build]
+ /home/opam/.opam/4.07/bin/dune "build" "-p" "datakit-client-git" "-j" "71" (CWD=/home/opam/.opam/4.07/.opam-switch/build/datakit-client-git.0.12.3)
Processing  3/4: [datakit-client-git: dune runtest]
+ /home/opam/.opam/4.07/bin/dune "runtest" "tests/datakit-git" (CWD=/home/opam/.opam/4.07/.opam-switch/build/datakit-client-git.0.12.3)
-         test alias tests/datakit-git/runtest
- /bin/sh: tput: not found
- stty: 'standard input': Not a tty
- +6041us irw-polling [INFO] Polling mode
- Testing datakit-git.
- This run has ID `CBF5DD6F-CCA3-43FC-8C08-C20FA2AB54BB`.
- [33m ...[m                [36mclient[m          0   Transaction.[32m[OK][m                [36mclient[m          0   Transaction.
- [33m ...[m                [36mclient[m          1   Watch.[32m[OK][m                [36mclient[m          1   Watch.
- [33m ...[m                [36mclient[m          2   Make dirs.[32m[OK][m                [36mclient[m          2   Make dirs.
- [33m ...[m                [36mclient[m          3   Truncate.[32m[OK][m                [36mclient[m          3   Truncate.
- [33m ...[m                [36mclient[m          4   Parents.[32m[OK][m                [36mclient[m          4   Parents.
- [33m ...[m                [36mclient[m          5   Merge.[32m[OK][m                [36mclient[m          5   Merge.
- [33m ...[m                [36mclient[m          6   Diff.[32m[OK][m                [36mclient[m          6   Diff.
- [33m ...[m                [36mclient[m          7   Merge_metadata.[32m[OK][m                [36mclient[m          7   Merge_metadata.
- [33m ...[m                [36mclient[m          8   Merge empty.[32m[OK][m                [36mclient[m          8   Merge empty.
- [33m ...[m                [36mclient[m          9   Conflicts.[32m[OK][m                [36mclient[m          9   Conflicts.
- [33m ...[m                [36mclient[m         10   Large write.[32m[OK][m                [36mclient[m         10   Large write.
- [33m ...[m                [36mclient[m         11   Remove.[32m[OK][m                [36mclient[m         11   Remove.
- [33m ...[m                [36mclient[m         12   Remotes.[33m[SKIP][m              [36mclient[m         12   Remotes.
- [33m ...[m                [36mclient[m         13   Create_or_replace.[33m[SKIP][m              [36mclient[m         13   Create_or_replace.
- The full test results are available in `/home/opam/.opam/4.07/.opam-switch/build/datakit-client-git.0.12.3/_build/default/tests/datakit-git/_build/_tests/CBF5DD6F-CCA3-43FC-8C08-C20FA2AB54BB`.
- [32mTest Successful[m in 0.520s. 12 tests run.
-> compiled  datakit-client-git.0.12.3
-> installed datakit-client-git.0.12.3
Done.
# Run eval $(opam env) to update the current shell environment
 ---> a3fbca51c796
Removing intermediate container 9028e15eb29c
Step 15/16 : RUN sudo mkdir /data && sudo chown opam.nogroup /data && chmod 700 /data &&     sudo cp $(opam config exec -- which datakit-mount) /usr/bin/datakit-mount
 ---> Running in 3c7d3c271109
 ---> 7d14872976a2
Removing intermediate container 3c7d3c271109
Step 16/16 : CMD bash -c "/usr/bin/datakit-mount -h $(getent hosts datakit | awk '{print $1}')";     bash
 ---> Running in 9bbe8d0bfa4e
 ---> e900747c22ef
Removing intermediate container 9bbe8d0bfa4e
Successfully built e900747c22ef
[2019-04-13 20:12.22] Success
