=== Docker build Dockerfile
[2019-03-11 10:53.50] Starting...
Cloning into '/tmp/with_clone128a706a'...
done.
HEAD is now at bc1dd09 use non-deprecated JSON types in latest yojson
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 5.826 MB
Step 1/22 : FROM ocaml/opam2:alpine
alpine: Pulling from ocaml/opam2
Digest: sha256:22c602c753b42f7db92ad08187b89c80ae9a68991f65b2d6743fb862d20b0875
Status: Image is up to date for ocaml/opam2:alpine
 ---> b29794a38c38
Step 2/22 : RUN sudo apk add --no-cache tzdata aspcud gmp-dev perl libev-dev m4
 ---> Using cache
 ---> 09ba0013948b
Step 3/22 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Using cache
 ---> 478e83d1f5e6
Step 4/22 : RUN git -C /home/opam/opam-repository fetch origin &&     git -C /home/opam/opam-repository reset b01a2e4e1ac2fb545d593ad40bc95b4a78dec9e2 --hard &&     opam update -u
 ---> Using cache
 ---> 9e5b4761e5bf
Step 5/22 : RUN opam install alcotest lwt conf-libev inotify
 ---> Using cache
 ---> 8df47c40e2de
Step 6/22 : COPY check-libev.ml /tmp/check-libev.ml
 ---> Using cache
 ---> 0c36844080a6
Step 7/22 : RUN opam exec -- ocaml /tmp/check-libev.ml
 ---> Using cache
 ---> 4313b97de2f9
Step 8/22 : COPY *.opam /home/opam/src/datakit/
 ---> c4d37ada7f85
Removing intermediate container a7b2d3ba79b9
Step 9/22 : RUN opam pin add /home/opam/src/datakit/ -n
 ---> Running in 903b38278a3e
This will pin the following packages: datakit, datakit-server, datakit-server-9p, datakit-github, datakit-client, datakit-client-git, datakit-client-9p, datakit-ci, datakit-bridge-local-git, datakit-bridge-github. Continue? [Y/n] y
[datakit.0.12.2: rsync]
[datakit.0.12.2] synchronised from file:///home/opam/src/datakit
datakit is now pinned to file:///home/opam/src/datakit (version 0.12.2)
[datakit-server.0.12.2: rsync]
[datakit-server.0.12.2] synchronised from file:///home/opam/src/datakit
datakit-server is now pinned to file:///home/opam/src/datakit (version 0.12.2)
[datakit-server-9p.0.12.2: rsync]
[datakit-server-9p.0.12.2] synchronised from file:///home/opam/src/datakit
datakit-server-9p is now pinned to file:///home/opam/src/datakit (version 0.12.2)
[datakit-github.0.12.2: rsync]
[datakit-github.0.12.2] synchronised from file:///home/opam/src/datakit
datakit-github is now pinned to file:///home/opam/src/datakit (version 0.12.2)
[datakit-client.0.12.2: rsync]
[datakit-client.0.12.2] synchronised from file:///home/opam/src/datakit
datakit-client is now pinned to file:///home/opam/src/datakit (version 0.12.2)
[datakit-client-git.0.12.2: rsync]
[datakit-client-git.0.12.2] synchronised from file:///home/opam/src/datakit
datakit-client-git is now pinned to file:///home/opam/src/datakit (version 0.12.2)
[datakit-client-9p.0.12.2: rsync]
[datakit-client-9p.0.12.2] synchronised from file:///home/opam/src/datakit
datakit-client-9p is now pinned to file:///home/opam/src/datakit (version 0.12.2)
[datakit-ci.0.12.2: rsync]
[datakit-ci.0.12.2] synchronised from file:///home/opam/src/datakit
datakit-ci is now pinned to file:///home/opam/src/datakit (version 0.12.2)
[datakit-bridge-local-git.0.12.2: rsync]
[datakit-bridge-local-git.0.12.2] synchronised from file:///home/opam/src/datakit
datakit-bridge-local-git is now pinned to file:///home/opam/src/datakit (version 0.12.2)
[datakit-bridge-github.0.12.2: rsync]
[datakit-bridge-github.0.12.2] synchronised from file:///home/opam/src/datakit
datakit-bridge-github is now pinned to file:///home/opam/src/datakit (version 0.12.2)
 ---> f1d205e6c987
Error removing intermediate container 903b38278a3e: driver "aufs" failed to remove root filesystem for 903b38278a3ea87357bd28ee21321565c40cb0da3528a92402b1ff833ad6052d: could not remove diff path for id b71d9274b81552abd318cb40f4a8eb94d0aa074d22fc319ec1a0c49fabf1b296: error preparing atomic delete: rename /var/lib/docker/aufs/diff/b71d9274b81552abd318cb40f4a8eb94d0aa074d22fc319ec1a0c49fabf1b296 /var/lib/docker/aufs/diff/b71d9274b81552abd318cb40f4a8eb94d0aa074d22fc319ec1a0c49fabf1b296-removing: device or resource busy
Step 10/22 : RUN opam install datakit --deps -t
 ---> Running in a4581fa389e4

<><> Synchronising pinned packages ><><><><><><><><><><><><><><><><><><><><><><>
[datakit.0.12.2] no changes from file:///home/opam/src/datakit

The following actions will be performed:
  - install seq                     base
  - install num                     1.1
  - install base64                  3.1.0
  - install win-error               1.0
  - install mirage-device           1.2.0
  - install mtime                   1.1.0
  - install ocb-stubblr             0.1.1-1
  - install stringext               1.5.0
  - install magic-mime              1.1.1
  - install duration                0.1.2
  - install decompress              0.7
  - install uutf                    1.0.2
  - install rresult                 0.6.0
  - install ocamlgraph              1.8.8
  - install logs                    0.6.2
  - install asetmap                 0.8.1
  - install ocaml-compiler-libs     v0.11.0
  - install sexplib0                v0.11.0
  - install ocplib-endian           1.0
  - install ppx_derivers            1.0
  - install mirage-flow             1.5.0
  - install re                      1.8.0
  - install mirage-time             1.1.0
  - install mirage-kv               1.1.1
  - install mirage-clock            2.0.0
  - install named-pipe              0.4.0
  - install jsonm                   1.0.1
  - install win-eventlog            0.2
  - install irmin-watcher           0.4.0
  - install asl                     0.11
  - install parsexp                 v0.11.0
  - install macaddr                 3.0.0
  - install base                    v0.11.1
  - install ocaml-migrate-parsetree 1.2.0
  - install mirage-channel          3.2.0
  - install prometheus              0.5
  - install mirage-time-lwt         1.1.0
  - install sexplib                 v0.11.0
  - install ipaddr                  3.0.0
  - install stdio                   v0.11.0
  - install cstruct                 3.6.0
  - install ppxlib                  0.5.0
  - install mstruct                 1.4.0
  - install mirage-kv-lwt           1.1.0
  - install mirage-flow-lwt         1.5.0
  - install io-page                 2.1.0
  - install hex                     1.3.0
  - install datakit-server          0.12.2*
  - install datakit-client          0.12.2*
  - install cstruct-lwt             3.6.0
  - install ppx_sexp_conv           v0.11.2
  - install fieldslib               v0.11.0
  - install hvsock                  1.0.2
  - install mirage-channel-lwt      3.2.0
  - install io-page-unix            2.1.0
  - install uri                     2.2.0
  - install ppx_fields_conv         v0.11.0
  - install protocol-9p             1.0.1
  - install irmin                   1.4.0
  - install git                     1.11.5
  - install conduit                 1.4.0
  - install cohttp                  2.0.0
  - install protocol-9p-unix        1.0.1
  - install datakit-server-9p       0.12.2*
  - install irmin-mem               1.3.0
  - install irmin-git               1.3.0
  - install conduit-lwt             1.4.0
  - install cohttp-lwt              2.0.0
  - install datakit-client-9p       0.12.2*
  - install conduit-lwt-unix        1.4.0
  - install cohttp-lwt-unix         2.0.0
  - install prometheus-app          0.5
===== 72 to install =====

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[asetmap.0.8.1] downloaded from http://erratique.ch/software/asetmap/releases/asetmap-0.8.1.tbz
[asl.0.11] downloaded from https://github.com/mirage/ocaml-asl/releases/download/0.11/asl-0.11.tbz
[base64.3.1.0] downloaded from https://github.com/mirage/ocaml-base64/releases/download/v3.1.0/base64-v3.1.0.tbz
[base.v0.11.1] downloaded from https://github.com/janestreet/base/releases/download/v0.11.1/base-v0.11.1.tbz
[cohttp.2.0.0] downloaded from https://github.com/mirage/ocaml-cohttp/releases/download/v2.0.0/cohttp-v2.0.0.tbz
[cohttp-lwt.2.0.0] downloaded from https://github.com/mirage/ocaml-cohttp/releases/download/v2.0.0/cohttp-v2.0.0.tbz
[cohttp-lwt-unix.2.0.0] downloaded from https://github.com/mirage/ocaml-cohttp/releases/download/v2.0.0/cohttp-v2.0.0.tbz
[conduit.1.4.0] downloaded from https://github.com/mirage/ocaml-conduit/releases/download/v1.4.0/conduit-v1.4.0.tbz
[conduit-lwt.1.4.0] downloaded from https://github.com/mirage/ocaml-conduit/releases/download/v1.4.0/conduit-v1.4.0.tbz
[conduit-lwt-unix.1.4.0] downloaded from https://github.com/mirage/ocaml-conduit/releases/download/v1.4.0/conduit-v1.4.0.tbz
[cstruct.3.6.0] downloaded from https://github.com/mirage/ocaml-cstruct/releases/download/v3.6.0/cstruct-v3.6.0.tbz
[cstruct-lwt.3.6.0] downloaded from https://github.com/mirage/ocaml-cstruct/releases/download/v3.6.0/cstruct-v3.6.0.tbz
[decompress.0.7] downloaded from https://github.com/mirage/decompress/releases/download/v0.7/decompress-0.7.tbz
[fieldslib.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/fieldslib-v0.11.0.tar.gz
[duration.0.1.2] downloaded from https://github.com/hannesm/duration/releases/download/0.1.2/duration-0.1.2.tbz
[hex.1.3.0] downloaded from https://github.com/mirage/ocaml-hex/releases/download/v1.3.0/hex-v1.3.0.tbz
[git.1.11.5] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.11.5/git-1.11.5.tbz
[hvsock.1.0.2] downloaded from https://github.com/mirage/ocaml-hvsock/archive/1.0.2.tar.gz
[io-page.2.1.0] downloaded from https://github.com/mirage/io-page/releases/download/v2.1.0/io-page-v2.1.0.tbz
[io-page-unix.2.1.0] downloaded from https://github.com/mirage/io-page/releases/download/v2.1.0/io-page-v2.1.0.tbz
[ipaddr.3.0.0] downloaded from https://github.com/mirage/ocaml-ipaddr/releases/download/3.0.0/ipaddr-3.0.0.tbz
[irmin.1.4.0] downloaded from https://github.com/mirage/irmin/releases/download/1.4.0/irmin-1.4.0.tbz
[irmin-git.1.3.0] downloaded from https://github.com/mirage/irmin/releases/download/1.3.0/irmin-1.3.0.tbz
[irmin-mem.1.3.0] downloaded from https://github.com/mirage/irmin/releases/download/1.3.0/irmin-1.3.0.tbz
[jsonm.1.0.1] downloaded from http://erratique.ch/software/jsonm/releases/jsonm-1.0.1.tbz
[macaddr.3.0.0] found in cache
[logs.0.6.2] downloaded from http://erratique.ch/software/logs/releases/logs-0.6.2.tbz
[irmin-watcher.0.4.0] downloaded from https://github.com/mirage/irmin-watcher/releases/download/0.4.0/irmin-watcher-0.4.0.tbz
[magic-mime.1.1.1] downloaded from https://github.com/mirage/ocaml-magic-mime/releases/download/v1.1.1/magic-mime-v1.1.1.tbz
[mirage-channel.3.2.0] downloaded from https://github.com/mirage/mirage-channel/releases/download/v3.2.0/mirage-channel-v3.2.0.tbz
[mirage-channel-lwt.3.2.0] downloaded from https://github.com/mirage/mirage-channel/releases/download/v3.2.0/mirage-channel-v3.2.0.tbz
[mirage-clock.2.0.0] downloaded from https://github.com/mirage/mirage-clock/releases/download/v2.0.0/mirage-clock-v2.0.0.tbz
[mirage-device.1.2.0] downloaded from https://github.com/mirage/mirage-device/releases/download/v1.2.0/mirage-device-v1.2.0.tbz
[mirage-flow.1.5.0] downloaded from https://github.com/mirage/mirage-flow/releases/download/v1.5.0/mirage-flow-1.5.0.tbz
[mirage-flow-lwt.1.5.0] downloaded from https://github.com/mirage/mirage-flow/releases/download/v1.5.0/mirage-flow-1.5.0.tbz
[mirage-kv.1.1.1] downloaded from https://github.com/mirage/mirage-kv/releases/download/v1.1.1/mirage-kv-1.1.1.tbz
[mirage-kv-lwt.1.1.0] downloaded from https://github.com/mirage/mirage-kv/releases/download/v1.1.0/mirage-kv-1.1.0.tbz
[mirage-time-lwt.1.1.0] downloaded from https://github.com/mirage/mirage-time/releases/download/v1.1.0/mirage-time-1.1.0.tbz
[mstruct.1.4.0] downloaded from https://github.com/mirage/ocaml-mstruct/releases/download/v1.4.0/mstruct-1.4.0.tbz
[mtime.1.1.0] downloaded from http://erratique.ch/software/mtime/releases/mtime-1.1.0.tbz
[mirage-time.1.1.0] downloaded from https://github.com/mirage/mirage-time/releases/download/v1.1.0/mirage-time-1.1.0.tbz
[ocaml-compiler-libs.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/ocaml-compiler-libs-v0.11.0.tar.gz
[named-pipe.0.4.0] downloaded from https://github.com/mirage/ocaml-named-pipe/releases/download/0.4.0/named-pipe-0.4.0.tbz
[num.1.1] downloaded from https://github.com/ocaml/num/archive/v1.1.tar.gz
[ocb-stubblr.0.1.1-1] downloaded from https://github.com/pqwy/ocb-stubblr/releases/download/v0.1.1/ocb-stubblr-0.1.1.tbz
[ocaml-migrate-parsetree.1.2.0] downloaded from https://github.com/ocaml-ppx/ocaml-migrate-parsetree/releases/download/v1.2.0/ocaml-migrate-parsetree-v1.2.0.tbz
[ocamlgraph.1.8.8] downloaded from http://ocamlgraph.lri.fr/download/ocamlgraph-1.8.8.tar.gz
[parsexp.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/parsexp-v0.11.0.tar.gz
[ocplib-endian.1.0] downloaded from https://github.com/OCamlPro/ocplib-endian/archive/1.0.tar.gz
[ppx_derivers.1.0] downloaded from https://github.com/ocaml-ppx/ppx_derivers/archive/1.0.tar.gz
[ppx_fields_conv.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/ppx_fields_conv-v0.11.0.tar.gz
[ppx_sexp_conv.v0.11.2] downloaded from https://github.com/janestreet/ppx_sexp_conv/archive/v0.11.2.tar.gz
[ppxlib.0.5.0] downloaded from https://github.com/ocaml-ppx/ppxlib/releases/download/0.5.0/ppxlib-0.5.0.tbz
[prometheus.0.5] downloaded from https://github.com/mirage/prometheus/releases/download/v0.5/prometheus-0.5.tbz
[prometheus-app.0.5] downloaded from https://github.com/mirage/prometheus/releases/download/v0.5/prometheus-0.5.tbz
[protocol-9p.1.0.1] downloaded from https://github.com/mirage/ocaml-9p/releases/download/v1.0.1/protocol-9p-v1.0.1.tbz
[protocol-9p-unix.1.0.1] downloaded from https://github.com/mirage/ocaml-9p/releases/download/v1.0.1/protocol-9p-v1.0.1.tbz
[rresult.0.6.0] downloaded from http://erratique.ch/software/rresult/releases/rresult-0.6.0.tbz
[re.1.8.0] downloaded from https://github.com/ocaml/ocaml-re/releases/download/1.8.0/re-1.8.0.tbz
[sexplib.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/sexplib-v0.11.0.tar.gz
[sexplib0.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/sexplib0-v0.11.0.tar.gz
[stdio.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/stdio-v0.11.0.tar.gz
[uutf.1.0.2] downloaded from http://erratique.ch/software/uutf/releases/uutf-1.0.2.tbz
[stringext.1.5.0] downloaded from https://github.com/rgrinberg/stringext/archive/1.5.0.zip
[win-error.1.0] downloaded from https://github.com/mirage/ocaml-win-error/releases/download/1.0/win-error-1.0.tbz
[uri.2.2.0] downloaded from https://github.com/mirage/ocaml-uri/releases/download/v2.2.0/uri-v2.2.0.tbz
[win-eventlog.0.2] downloaded from https://github.com/djs55/ocaml-win-eventlog/archive/v0.2.tar.gz

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> installed seq.base
-> installed asetmap.0.8.1
-> installed duration.0.1.2
-> installed logs.0.6.2
-> installed decompress.0.7
-> installed magic-mime.1.1.1
-> installed mirage-device.1.2.0
-> installed mirage-flow.1.5.0
-> installed mtime.1.1.0
-> installed ocaml-compiler-libs.v0.11.0
-> installed ppx_derivers.1.0
-> installed rresult.0.6.0
-> installed sexplib0.v0.11.0
-> installed stringext.1.5.0
-> installed uutf.1.0.2
-> installed win-error.1.0
-> installed re.1.8.0
-> installed base64.3.1.0
-> installed asl.0.11
-> installed irmin-watcher.0.4.0
-> installed win-eventlog.0.2
-> installed mirage-clock.2.0.0
-> installed mirage-kv.1.1.1
-> installed mirage-time.1.1.0
-> installed mirage-channel.3.2.0
-> installed ocplib-endian.1.0
-> installed base.v0.11.1
-> installed jsonm.1.0.1
-> installed macaddr.3.0.0
-> installed mirage-time-lwt.1.1.0
-> installed ocaml-migrate-parsetree.1.2.0
-> installed ocb-stubblr.0.1.1-1
-> installed parsexp.v0.11.0
-> installed prometheus.0.5
-> installed num.1.1
-> installed ipaddr.3.0.0
-> installed ocamlgraph.1.8.8
-> installed named-pipe.0.4.0
-> installed stdio.v0.11.0
-> installed sexplib.v0.11.0
-> installed cstruct.3.6.0
-> installed cstruct-lwt.3.6.0
-> installed datakit-client.0.12.2
-> installed datakit-server.0.12.2
-> installed hex.1.3.0
-> installed io-page.2.1.0
-> installed mirage-flow-lwt.1.5.0
-> installed mirage-kv-lwt.1.1.0
-> installed mstruct.1.4.0
-> installed io-page-unix.2.1.0
-> installed hvsock.1.0.2
-> installed mirage-channel-lwt.3.2.0
-> installed ppxlib.0.5.0
-> installed fieldslib.v0.11.0
-> installed ppx_sexp_conv.v0.11.2
-> installed ppx_fields_conv.v0.11.0
-> installed protocol-9p.1.0.1
-> installed uri.2.2.0
-> installed datakit-server-9p.0.12.2
-> installed protocol-9p-unix.1.0.1
-> installed conduit.1.4.0
-> installed datakit-client-9p.0.12.2
-> installed cohttp.2.0.0
-> installed git.1.11.5
-> installed irmin.1.4.0
-> installed conduit-lwt.1.4.0
-> installed cohttp-lwt.2.0.0
-> installed irmin-mem.1.3.0
-> installed irmin-git.1.3.0
-> installed conduit-lwt-unix.1.4.0
-> installed cohttp-lwt-unix.2.0.0
-> installed prometheus-app.0.5
Done.
# Run eval $(opam env) to update the current shell environment
 ---> 08cb9c039a6a
Removing intermediate container 903b38278a3e
Removing intermediate container a4581fa389e4
Step 11/22 : COPY . /home/opam/src/datakit
 ---> 99ce9b6ed29d
Removing intermediate container 2a5bf641eeb7
Step 12/22 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in 18fc2b04ca5e
 ---> 6ce53c154e24
Removing intermediate container 18fc2b04ca5e
Step 13/22 : RUN opam update --dev && opam upgrade
 ---> Running in 95280782fda8

<><> Synchronising development packages <><><><><><><><><><><><><><><><><><><><>
[datakit.0.12.2] synchronised from file:///home/opam/src/datakit
[datakit-bridge-github.0.12.2] synchronised from file:///home/opam/src/datakit
[datakit-bridge-local-git.0.12.2] synchronised from file:///home/opam/src/datakit
[datakit-ci.0.12.2] synchronised from file:///home/opam/src/datakit
[datakit-client.0.12.2] synchronised from file:///home/opam/src/datakit
[datakit-client-9p.0.12.2] synchronised from file:///home/opam/src/datakit
[datakit-client-git.0.12.2] synchronised from file:///home/opam/src/datakit
[datakit-github.0.12.2] synchronised from file:///home/opam/src/datakit
[datakit-server.0.12.2] synchronised from file:///home/opam/src/datakit
[datakit-server-9p.0.12.2] synchronised from file:///home/opam/src/datakit
Now run 'opam upgrade' to apply any package updates.
The following actions will be performed:
  - recompile datakit-client    0.12.2* [upstream changes]
  - recompile datakit-server    0.12.2* [upstream changes]
  - recompile datakit-client-9p 0.12.2* [upstream changes]
  - recompile datakit-server-9p 0.12.2* [upstream changes]
===== 4 to recompile =====

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> removed   datakit-client-9p.0.12.2
-> removed   datakit-client.0.12.2
-> installed datakit-client.0.12.2
-> removed   datakit-server-9p.0.12.2
-> removed   datakit-server.0.12.2
-> installed datakit-server.0.12.2
-> installed datakit-client-9p.0.12.2
-> installed datakit-server-9p.0.12.2
Done.
# Run eval $(opam env) to update the current shell environment
 ---> 01c8930d5c5d
Removing intermediate container 95280782fda8
Step 14/22 : RUN opam install datakit -ytv
 ---> Running in 49d1d2b9872b

<><> Synchronising pinned packages ><><><><><><><><><><><><><><><><><><><><><><>
Processing  1/1: [datakit.0.12.2: rsync]
[datakit.0.12.2] no changes from file:///home/opam/src/datakit

The following actions will be performed:
  - install datakit 0.12.2*

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
Processing  1/2: [datakit: dune build]
+ /home/opam/.opam/4.07/bin/dune "build" "-p" "datakit" "-j" "71" (CWD=/home/opam/.opam/4.07/.opam-switch/build/datakit.0.12.2)
Processing  1/2: [datakit: dune runtest]
+ /home/opam/.opam/4.07/bin/dune "runtest" "tests/datakit" (CWD=/home/opam/.opam/4.07/.opam-switch/build/datakit.0.12.2)
-         test alias tests/datakit/runtest
- /bin/sh: tput: not found
- stty: 'standard input': Not a tty
- Testing datakit.
- This run has ID `D065CBBD-21C5-474E-B510-A550EA06389C`.
- [33m ...[m                [36mserver[m           0   Writes.[32m[OK][m                [36mserver[m           0   Writes.
- [33m ...[m                [36mserver[m           1   RW.[32m[OK][m                [36mserver[m           1   RW.
- [33m ...[m                [36mserver[m           2   Blobs fast.[32m[OK][m                [36mserver[m           2   Blobs fast.
- [33m ...[m                [36mserver[m           3   Blobs random.[32m[OK][m                [36mserver[m           3   Blobs random.
- [33m ...[m                [36mserver[m           4   Streams.[32m[OK][m                [36mserver[m           4   Streams.
- [33m ...[m                [36mconduit[m          0   basic.[32m[OK][m                [36mconduit[m          0   basic.
- The full test results are available in `/home/opam/.opam/4.07/.opam-switch/build/datakit.0.12.2/_build/default/tests/datakit/_build/_tests/D065CBBD-21C5-474E-B510-A550EA06389C`.
- [32mTest Successful[m in 0.004s. 6 tests run.
+ /home/opam/.opam/4.07/bin/dune "runtest" "tests/datakit-9p" (CWD=/home/opam/.opam/4.07/.opam-switch/build/datakit.0.12.2)
-         test alias tests/datakit-9p/runtest
- /bin/sh: tput: not found
- stty: 'standard input': Not a tty
- Testing datakit-9p.
- This run has ID `FFC1DA78-D17D-485F-852B-7B1BF8164B91`.
- [33m ...[m                [36mserver[m          0   Transaction.[32m[OK][m                [36mserver[m          0   Transaction.
- [33m ...[m                [36mserver[m          1   Qids.[32m[OK][m                [36mserver[m          1   Qids.
- [33m ...[m                [36mserver[m          2   Watch.[32m[OK][m                [36mserver[m          2   Watch.
- [33m ...[m                [36mserver[m          3   Range.[32m[OK][m                [36mserver[m          3   Range.
- [33m ...[m                [36mserver[m          4   Rename branch.[32m[OK][m                [36mserver[m          4   Rename branch.
- [33m ...[m                [36mserver[m          5   Rename file.[32m[OK][m                [36mserver[m          5   Rename file.
- [33m ...[m                [36mserver[m          6   Truncate.[32m[OK][m                [36mserver[m          6   Truncate.
- [33m ...[m                [36mserver[m          7   Parents.[32m[OK][m                [36mserver[m          7   Parents.
- [33m ...[m                [36mserver[m          8   Merge.[32m[OK][m                [36mserver[m          8   Merge.
- [33m ...[m                [36mserver[m          9   Merge_metadata.[32m[OK][m                [36mserver[m          9   Merge_metadata.
- [33m ...[m                [36mserver[m         10   Merge empty.[32m[OK][m                [36mserver[m         10   Merge empty.
- [33m ...[m                [36mserver[m         11   Conflicts.[32m[OK][m                [36mserver[m         11   Conflicts.
- [33m ...[m                [36mserver[m         12   Stable inodes.[32m[OK][m                [36mserver[m         12   Stable inodes.
- [33m ...[m                [36mserver[m         13   Remotes.[33m[SKIP][m              [36mserver[m         13   Remotes.
- [33m ...[m                [36mserver[m         14   Debug.[32m[OK][m                [36mserver[m         14   Debug.
- [33m ...[m                [36mclient[m          0   Transaction.[32m[OK][m                [36mclient[m          0   Transaction.
- [33m ...[m                [36mclient[m          1   Watch.[32m[OK][m                [36mclient[m          1   Watch.
- [33m ...[m                [36mclient[m          2   Make dirs.[32m[OK][m                [36mclient[m          2   Make dirs.
- [33m ...[m                [36mclient[m          3   Truncate.[32m[OK][m                [36mclient[m          3   Truncate.
- [33m ...[m                [36mclient[m          4   Parents.[32m[OK][m                [36mclient[m          4   Parents.
- [33m ...[m                [36mclient[m          5   Merge.[32m[OK][m                [36mclient[m          5   Merge.
- [33m ...[m                [36mclient[m          6   Diff.[32m[OK][m                [36mclient[m          6   Diff.
- [33m ...[m                [36mclient[m          7   Merge_metadata.[32m[OK][m                [36mclient[m          7   Merge_metadata.
- [33m ...[m                [36mclient[m          8   Merge empty.[32m[OK][m                [36mclient[m          8   Merge empty.
- [33m ...[m                [36mclient[m          9   Conflicts.[32m[OK][m                [36mclient[m          9   Conflicts.
- [33m ...[m                [36mclient[m         10   Large write.[32m[OK][m                [36mclient[m         10   Large write.
- [33m ...[m                [36mclient[m         11   Remove.[32m[OK][m                [36mclient[m         11   Remove.
- [33m ...[m                [36mclient[m         12   Remotes.[33m[SKIP][m              [36mclient[m         12   Remotes.
- [33m ...[m                [36mclient[m         13   Create_or_replace.[33m[SKIP][m              [36mclient[m         13   Create_or_replace.
- The full test results are available in `/home/opam/.opam/4.07/.opam-switch/build/datakit.0.12.2/_build/default/tests/datakit-9p/_build/_tests/FFC1DA78-D17D-485F-852B-7B1BF8164B91`.
- [32mTest Successful[m in 0.280s. 26 tests run.
-> compiled  datakit.0.12.2
-> installed datakit.0.12.2
Done.
# Run eval $(opam env) to update the current shell environment
 ---> 1525d9061a0b
Removing intermediate container 49d1d2b9872b
Step 15/22 : RUN sudo cp $(opam config exec -- which datakit) /usr/bin/datakit &&     sudo cp $(opam config exec -- which datakit-mount) /usr/bin/datakit-mount
 ---> Running in b663e1676357
 ---> 4b8d188c907d
Removing intermediate container b663e1676357
Step 16/22 : FROM alpine:3.9
3.9: Pulling from library/alpine
Digest: sha256:644fcb1a676b5165371437feaa922943aaf7afcfa8bfee4472f6860aad1ef2a0
Status: Image is up to date for alpine:3.9
 ---> 5cb3aa00f899
Step 17/22 : RUN apk add --no-cache libev gmp tzdata ca-certificates git openssh-client bash
 ---> Using cache
 ---> 82a331d4d831
Step 18/22 : EXPOSE 5640
 ---> Using cache
 ---> b2e917ecfa23
Step 19/22 : ENTRYPOINT /usr/bin/datakit
 ---> Using cache
 ---> 6576f4b90470
Step 20/22 : CMD --url=tcp://0.0.0.0:5640 --git=/data -v
 ---> Using cache
 ---> 83ae4bceaaff
Step 21/22 : COPY --from=0 /usr/bin/datakit /usr/bin/datakit
 ---> bd6b2955e216
Removing intermediate container 04c77891cfb5
Step 22/22 : COPY --from=0 /usr/bin/datakit-mount /usr/bin/datakit-mount
 ---> 1d40616580af
Removing intermediate container 0c6ce55a5227
Successfully built 1d40616580af
[2019-03-11 10:57.06] Success
