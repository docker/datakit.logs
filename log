=== Docker build Dockerfile.client
[2019-07-12 14:22.49] Starting...
Cloning into '/tmp/with_clone165d2b47'...
done.
HEAD is now at 9c925f0 ci: pin to 4.07 compiler
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 6.128 MBSending build context to Docker daemon 6.395 MB
Step 1/17 : FROM ocaml/opam2:alpine
alpine: Pulling from ocaml/opam2
Digest: sha256:80f944d8924204d38d8c588a6906010ddfd6364c226a26077b99a95028270790
Status: Image is up to date for ocaml/opam2:alpine
 ---> bfd59b6fbeb7
Step 2/17 : RUN sudo apk add --no-cache tzdata aspcud gmp-dev perl libev-dev m4
 ---> Using cache
 ---> 3cfa4c307c86
Step 3/17 : RUN opam switch 4.07
 ---> Running in 9df48d5f6f81
# Run eval $(opam env) to update the current shell environment
 ---> 61f8129282a1
Removing intermediate container 9df48d5f6f81
Step 4/17 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Running in 6f610fcdd547
 ---> 45575532b93e
Removing intermediate container 6f610fcdd547
Step 5/17 : RUN git -C /home/opam/opam-repository fetch origin &&     git -C /home/opam/opam-repository reset 340acb7d88264bf29485b1d292388e1d91dc2214 --hard &&     opam update -u
 ---> Running in 842c447bb1b2
[91mFrom git://github.com/ocaml/opam-repository
   2a22479e66..340acb7d88  master     -> origin/master
[0m[91mChecking out files:  32% (4293/13330)[0m[91mChecking out files:  33% (4399/13330)[0m[91mChecking out files:  34% (4533/13330)[0m[91mChecking out files:  35% (4666/13330)[0m[91mChecking out files:  36% (4799/13330)[0m[91mChecking out files:  37% (4933/13330)[0m[91mChecking out files:  38% (5066/13330)[0m[91mChecking out files:  39% (5199/13330)[0m[91mChecking out files:  40% (5332/13330)[0m[91mChecking out files:  41% (5466/13330)[0m[91mChecking out files:  42% (5599/13330)[0m[91mChecking out files:  43% (5732/13330)[0m[91mChecking out files:  44% (5866/13330)[0m[91mChecking out files:  45% (5999/13330)[0m[91mChecking out files:  46% (6132/13330)[0m[91mChecking out files:  47% (6266/13330)[0m[91mChecking out files:  48% (6399/13330)[0m[91mChecking out files:  49% (6532/13330)[0m[91mChecking out files:  50% (6665/13330)[0m[91mChecking out files:  51% (6799/13330)[0m[91mChecking out files:  52% (6932/13330)[0m[91mChecking out files:  53% (7065/13330)[0m[91mChecking out files:  54% (7199/13330)[0m[91mChecking out files:  55% (7332/13330)[0m[91mChecking out files:  56% (7465/13330)[0m[91mChecking out files:  57% (7599/13330)[0m[91mChecking out files:  58% (7732/13330)[0m[91mChecking out files:  59% (7865/13330)[0m[91mChecking out files:  59% (7904/13330)[0m[91mChecking out files:  60% (7998/13330)[0m[91mChecking out files:  61% (8132/13330)[0m[91mChecking out files:  62% (8265/13330)[0m[91mChecking out files:  63% (8398/13330)[0m[91mChecking out files:  64% (8532/13330)[0m[91mChecking out files:  65% (8665/13330)[0m[91mChecking out files:  66% (8798/13330)[0m[91mChecking out files:  67% (8932/13330)[0m[91mChecking out files:  68% (9065/13330)[0m[91mChecking out files:  69% (9198/13330)[0m[91mChecking out files:  70% (9331/13330)[0m[91mChecking out files:  71% (9465/13330)[0m[91mChecking out files:  72% (9598/13330)[0m[91mChecking out files:  73% (9731/13330)[0m[91mChecking out files:  74% (9865/13330)[0m[91mChecking out files:  75% (9998/13330)[0m[91mChecking out files:  76% (10131/13330)[0m[91mChecking out files:  77% (10265/13330)[0m[91mChecking out files:  78% (10398/13330)[0m[91mChecking out files:  79% (10531/13330)[0m[91mChecking out files:  80% (10664/13330)[0m[91mChecking out files:  81% (10798/13330)[0m[91mChecking out files:  82% (10931/13330)[0m[91mChecking out files:  83% (11064/13330)[0m[91mChecking out files:  84% (11198/13330)[0m[91mChecking out files:  85% (11331/13330)[0m[91mChecking out files:  85% (11410/13330)[0m[91mChecking out files:  86% (11464/13330)[0m[91mChecking out files:  87% (11598/13330)[0m[91mChecking out files:  88% (11731/13330)[0m[91mChecking out files:  89% (11864/13330)[0m[91mChecking out files:  90% (11997/13330)[0m[91mChecking out files:  91% (12131/13330)[0m[91mChecking out files:  92% (12264/13330)[0m[91mChecking out files:  93% (12397/13330)[0m[91mChecking out files:  94% (12531/13330)[0m[91mChecking out files:  95% (12664/13330)[0m[91mChecking out files:  96% (12797/13330)[0m[91mChecking out files:  97% (12931/13330)[0m[91mChecking out files:  98% (13064/13330)[0m[91mChecking out files:  99% (13197/13330)[0m[91mChecking out files: 100% (13330/13330)Checking out files: 100% (13330/13330), done.
[0mHEAD is now at 340acb7d88 Merge pull request #14485 from avsm/release-cohttp-2.1.3

<><> Updating package repositories ><><><><><><><><><><><><><><><><><><><><><><>
[default] synchronised from git+file:///home/opam/opam-repository

Everything as up-to-date as possible (run with --verbose to show unavailable upgrades).
However, you may "opam upgrade" these packages explicitly, which will ask permission to downgrade or uninstall the conflicting packages.
Nothing to do.
# Run eval $(opam env) to update the current shell environment
 ---> bf4c8aa48c34
Removing intermediate container 842c447bb1b2
Step 6/17 : RUN opam install alcotest lwt conf-libev inotify
 ---> Running in 65413cd6f92d
The following actions will be performed:
  - install cmdliner     1.0.4  [required by alcotest]
  - install conf-m4      1      [required by ocamlfind]
  - install conf-libev   4-11
  - install seq          base   [required by lwt]
  - install dune         1.10.0 [required by alcotest, lwt]
  - install ocamlbuild   0.14.0 [required by inotify]
  - install ocamlfind    1.8.0  [required by inotify]
  - install stdlib-shims 0.1.0  [required by fmt]
  - install result       1.4    [required by alcotest, lwt]
  - install mmap         1.1.0  [required by lwt]
  - install cppo         1.6.6  [required by lwt]
  - install base-bytes   base   [required by inotify]
  - install topkg        1.0.0  [required by fmt, astring, uuidm]
  - install lwt          4.2.1
  - install uuidm        0.9.7  [required by alcotest]
  - install fmt          0.8.6  [required by alcotest]
  - install astring      0.8.3  [required by alcotest]
  - install inotify      2.3
  - install alcotest     0.8.5
===== 19 to install =====

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[astring.0.8.3] downloaded from http://erratique.ch/software/astring/releases/astring-0.8.3.tbz
[cmdliner.1.0.4] downloaded from http://erratique.ch/software/cmdliner/releases/cmdliner-1.0.4.tbz
[cppo.1.6.6] downloaded from https://github.com/ocaml-community/cppo/releases/download/v1.6.6/cppo-v1.6.6.tbz
[fmt.0.8.6] downloaded from https://erratique.ch/software/fmt/releases/fmt-0.8.6.tbz
[alcotest.0.8.5] downloaded from https://github.com/mirage/alcotest/releases/download/0.8.5/alcotest-0.8.5.tbz
[dune.1.10.0] downloaded from https://github.com/ocaml/dune/releases/download/1.10.0/dune-1.10.0.tbz
[inotify.2.3] downloaded from https://github.com/whitequark/ocaml-inotify/archive/v2.3.tar.gz
[mmap.1.1.0] downloaded from https://github.com/mirage/mmap/releases/download/v1.1.0/mmap-v1.1.0.tbz
[lwt.4.2.1] downloaded from https://github.com/ocsigen/lwt/archive/4.2.1.tar.gz
[ocamlfind.1.8.0] downloaded from http://download.camlcity.org/download/findlib-1.8.0.tar.gz
[ocamlbuild.0.14.0] downloaded from https://github.com/ocaml/ocamlbuild/archive/0.14.0.tar.gz
[topkg.1.0.0] downloaded from http://erratique.ch/software/topkg/releases/topkg-1.0.0.tbz
[result.1.4] downloaded from https://github.com/janestreet/result/archive/1.4.tar.gz
[uuidm.0.9.7] downloaded from https://erratique.ch/software/uuidm/releases/uuidm-0.9.7.tbz
[stdlib-shims.0.1.0] downloaded from https://github.com/ocaml/stdlib-shims/releases/download/0.1.0/stdlib-shims-0.1.0.tbz

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> installed seq.base
-> installed conf-libev.4-11
-> installed conf-m4.1
-> installed cmdliner.1.0.4
-> installed ocamlfind.1.8.0
-> installed base-bytes.base
-> installed ocamlbuild.0.14.0
-> installed dune.1.10.0
-> installed stdlib-shims.0.1.0
-> installed mmap.1.1.0
-> installed result.1.4
-> installed cppo.1.6.6
-> installed topkg.1.0.0
-> installed lwt.4.2.1
-> installed astring.0.8.3
-> installed fmt.0.8.6
-> installed uuidm.0.9.7
-> installed alcotest.0.8.5
-> installed inotify.2.3
Done.
# Run eval $(opam env) to update the current shell environment
 ---> 18bba6bd5a39
Removing intermediate container 65413cd6f92d
Step 7/17 : COPY check-libev.ml /tmp/check-libev.ml
 ---> fadc6c1094dc
Removing intermediate container 9d2d3cd08056
Step 8/17 : RUN opam config exec -- ocaml /tmp/check-libev.ml
 ---> Running in 6a49aab6c43b
 ---> 9609dcec2b89
Removing intermediate container 6a49aab6c43b
Step 9/17 : COPY *.opam /home/opam/src/datakit/
 ---> b5b544779548
Removing intermediate container f184e305fa80
Step 10/17 : RUN opam pin add /home/opam/src/datakit/ -n
 ---> Running in 8428aa1f7ec6
This will pin the following packages: datakit, datakit-server, datakit-server-9p, datakit-github, datakit-client, datakit-client-git, datakit-client-9p, datakit-ci, datakit-bridge-local-git, datakit-bridge-github. Continue? [Y/n] y
[datakit.0.12.3: rsync]
[datakit.0.12.3] synchronised from file:///home/opam/src/datakit
datakit is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-server.0.12.3: rsync]
[datakit-server.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-server is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-server-9p.0.12.3: rsync]
[datakit-server-9p.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-server-9p is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-github.0.12.3: rsync]
[datakit-github.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-github is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-client.0.12.3: rsync]
[datakit-client.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-client is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-client-git.0.12.3: rsync]
[datakit-client-git.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-client-git is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-client-9p.0.12.3: rsync]
[datakit-client-9p.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-client-9p is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-ci.0.12.4: rsync]
[datakit-ci.0.12.4] synchronised from file:///home/opam/src/datakit
datakit-ci is now pinned to file:///home/opam/src/datakit (version 0.12.4)
[datakit-bridge-local-git.0.12.3: rsync]
[datakit-bridge-local-git.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-bridge-local-git is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-bridge-github.0.12.3: rsync]
[datakit-bridge-github.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-bridge-github is now pinned to file:///home/opam/src/datakit (version 0.12.3)
 ---> 1b6deb46b38d
Removing intermediate container 8428aa1f7ec6
Step 11/17 : RUN OPAMSOLVERTIMEOUT=120 opam install datakit-client-git datakit-client-9p --deps -t
 ---> Running in d0d65bd35c41

<><> Synchronising pinned packages ><><><><><><><><><><><><><><><><><><><><><><>
[datakit-client-9p.0.12.3] no changes from file:///home/opam/src/datakit
[datakit-client-git.0.12.3] no changes from file:///home/opam/src/datakit

The following actions will be performed:
  - install conf-gmp                1
  - install mirage-no-xen           1
  - install jbuilder                transition
  - install ppx_tools               5.1+4.06.0
  - install mirage-flow             1.6.0
  - install uchar                   0.0.2
  - install cpuid                   0.1.2
  - install win-error               1.0
  - install mirage-device           1.2.0
  - install sexplib0                v0.12.0
  - install stringext               1.6.0
  - install base64                  3.2.0
  - install num                     1.2
  - install mtime                   1.1.0
  - install ocaml-compiler-libs     v0.12.0
  - install ocb-stubblr             0.1.1-1
  - install ppx_derivers            1.2.1
  - install magic-mime              1.1.1
  - install mirage-no-solo5         1
  - install decompress              0.7
  - install conf-perl               1
  - install rresult                 0.6.0
  - install re                      1.9.0
  - install ocamlgraph              1.8.8
  - install asetmap                 0.8.1
  - install ocplib-endian           1.0
  - install bigarray-compat         1.0.0
  - install logs                    0.6.3
  - install mirage-channel          3.2.0
  - install uutf                    1.0.2
  - install mirage-clock            2.0.0
  - install macaddr                 3.1.0
  - install base                    v0.12.2
  - install ocaml-migrate-parsetree 1.4.0
  - install zarith                  1.7
  - install uri                     3.0.0
  - install prometheus              0.5
  - install cstruct                 5.0.0
  - install irmin-watcher           0.4.1
  - install jsonm                   1.0.1
  - install ipaddr                  3.1.0
  - install stdio                   v0.12.0
  - install parsexp                 v0.12.0
  - install fieldslib               v0.12.0
  - install ppxfind                 1.3
  - install mstruct                 1.4.0
  - install mirage-flow-lwt         1.6.0
  - install io-page                 2.3.0
  - install hex                     1.4.0
  - install datakit-client          0.12.3*
  - install cstruct-lwt             5.0.0
  - install ppxlib                  0.8.0
  - install sexplib                 v0.12.0
  - install ppx_deriving            4.4
  - install mirage-channel-lwt      3.2.0
  - install io-page-unix            2.3.0
  - install irmin                   1.4.0
  - install git                     1.11.5
  - install ppx_sexp_conv           v0.12.0
  - install ppx_fields_conv         v0.12.0
  - install cstruct-sexp            5.0.0
  - install irmin-mem               1.3.0
  - install irmin-git               1.3.0
  - install uri-sexp                3.0.0
  - install nocrypto                0.5.4-1
  - install conduit                 1.4.0
  - install protocol-9p             2.0.1
  - install cohttp                  2.1.3
  - install conduit-lwt             1.4.0
  - install protocol-9p-unix        2.0.1
  - install cohttp-lwt              2.1.3
  - install conduit-lwt-unix        1.4.0
  - install git-http                1.11.4
  - install cohttp-lwt-unix         2.1.3
  - install git-unix                1.11.5
===== 75 to install =====

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[asetmap.0.8.1] downloaded from http://erratique.ch/software/asetmap/releases/asetmap-0.8.1.tbz
[base64.3.2.0] downloaded from https://github.com/mirage/ocaml-base64/releases/download/v3.2.0/base64-v3.2.0.tbz
[bigarray-compat.1.0.0] downloaded from https://github.com/mirage/bigarray-compat/archive/v1.0.0.tar.gz
[base.v0.12.2] downloaded from https://github.com/janestreet/base/archive/v0.12.2.tar.gz
[cohttp.2.1.3] downloaded from https://github.com/mirage/ocaml-cohttp/releases/download/v2.1.3/cohttp-v2.1.3.tbz
[cohttp-lwt.2.1.3] downloaded from https://github.com/mirage/ocaml-cohttp/releases/download/v2.1.3/cohttp-v2.1.3.tbz
[cohttp-lwt-unix.2.1.3] downloaded from https://github.com/mirage/ocaml-cohttp/releases/download/v2.1.3/cohttp-v2.1.3.tbz
[conduit.1.4.0] downloaded from https://github.com/mirage/ocaml-conduit/releases/download/v1.4.0/conduit-v1.4.0.tbz
[conduit-lwt.1.4.0] downloaded from https://github.com/mirage/ocaml-conduit/releases/download/v1.4.0/conduit-v1.4.0.tbz
[conduit-lwt-unix.1.4.0] downloaded from https://github.com/mirage/ocaml-conduit/releases/download/v1.4.0/conduit-v1.4.0.tbz
[cpuid.0.1.2] downloaded from https://github.com/pqwy/cpuid/releases/download/v0.1.2/cpuid-v0.1.2.tbz
[cstruct.5.0.0] downloaded from https://github.com/mirage/ocaml-cstruct/releases/download/v5.0.0/cstruct-v5.0.0.tbz
[datakit-client.0.12.3] synchronised from file:///home/opam/src/datakit
[cstruct-lwt.5.0.0] downloaded from https://github.com/mirage/ocaml-cstruct/releases/download/v5.0.0/cstruct-v5.0.0.tbz
[cstruct-sexp.5.0.0] downloaded from https://github.com/mirage/ocaml-cstruct/releases/download/v5.0.0/cstruct-v5.0.0.tbz
[fieldslib.v0.12.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.12/files/fieldslib-v0.12.0.tar.gz
[decompress.0.7] downloaded from https://github.com/mirage/decompress/releases/download/v0.7/decompress-0.7.tbz
[git.1.11.5] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.11.5/git-1.11.5.tbz
[git-unix.1.11.5] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.11.5/git-1.11.5.tbz
[git-http.1.11.4] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.11.4/git-1.11.4.tbz
[io-page.2.3.0] downloaded from https://github.com/mirage/io-page/releases/download/v2.3.0/io-page-v2.3.0.tbz
[hex.1.4.0] downloaded from https://github.com/mirage/ocaml-hex/releases/download/v1.4.0/hex-v1.4.0.tbz
[io-page-unix.2.3.0] downloaded from https://github.com/mirage/io-page/releases/download/v2.3.0/io-page-v2.3.0.tbz
[ipaddr.3.1.0] downloaded from https://github.com/mirage/ocaml-ipaddr/releases/download/v3.1.0/ipaddr-v3.1.0.tbz
[irmin.1.4.0] downloaded from https://github.com/mirage/irmin/releases/download/1.4.0/irmin-1.4.0.tbz
[irmin-git.1.3.0] downloaded from https://github.com/mirage/irmin/releases/download/1.3.0/irmin-1.3.0.tbz
[jsonm.1.0.1] downloaded from http://erratique.ch/software/jsonm/releases/jsonm-1.0.1.tbz
[logs.0.6.3] downloaded from https://erratique.ch/software/logs/releases/logs-0.6.3.tbz
[macaddr.3.1.0] found in cache
[irmin-mem.1.3.0] downloaded from https://github.com/mirage/irmin/releases/download/1.3.0/irmin-1.3.0.tbz
[irmin-watcher.0.4.1] downloaded from https://github.com/mirage/irmin-watcher/releases/download/0.4.1/irmin-watcher-0.4.1.tbz
[magic-mime.1.1.1] downloaded from https://github.com/mirage/ocaml-magic-mime/releases/download/v1.1.1/magic-mime-v1.1.1.tbz
[mirage-channel.3.2.0] downloaded from https://github.com/mirage/mirage-channel/releases/download/v3.2.0/mirage-channel-v3.2.0.tbz
[mirage-channel-lwt.3.2.0] downloaded from https://github.com/mirage/mirage-channel/releases/download/v3.2.0/mirage-channel-v3.2.0.tbz
[mirage-clock.2.0.0] downloaded from https://github.com/mirage/mirage-clock/releases/download/v2.0.0/mirage-clock-v2.0.0.tbz
[mirage-device.1.2.0] downloaded from https://github.com/mirage/mirage-device/releases/download/v1.2.0/mirage-device-v1.2.0.tbz
[mirage-flow.1.6.0] downloaded from https://github.com/mirage/mirage-flow/releases/download/v1.6.0/mirage-flow-v1.6.0.tbz
[mtime.1.1.0] downloaded from http://erratique.ch/software/mtime/releases/mtime-1.1.0.tbz
[mirage-flow-lwt.1.6.0] downloaded from https://github.com/mirage/mirage-flow/releases/download/v1.6.0/mirage-flow-v1.6.0.tbz
[mstruct.1.4.0] downloaded from https://github.com/mirage/ocaml-mstruct/releases/download/v1.4.0/mstruct-1.4.0.tbz
[num.1.2] downloaded from https://github.com/ocaml/num/archive/v1.2.tar.gz
[nocrypto.0.5.4-1] downloaded from https://github.com/mirleft/ocaml-nocrypto/releases/download/v0.5.4/nocrypto-0.5.4.tbz
[ocaml-compiler-libs.v0.12.0] downloaded from https://github.com/janestreet/ocaml-compiler-libs/archive/v0.12.0.tar.gz
[ocamlgraph.1.8.8] downloaded from http://ocamlgraph.lri.fr/download/ocamlgraph-1.8.8.tar.gz
[ocaml-migrate-parsetree.1.4.0] downloaded from https://github.com/ocaml-ppx/ocaml-migrate-parsetree/releases/download/v1.4.0/ocaml-migrate-parsetree-v1.4.0.tbz
[ocb-stubblr.0.1.1-1] downloaded from https://github.com/pqwy/ocb-stubblr/releases/download/v0.1.1/ocb-stubblr-0.1.1.tbz
[ocplib-endian.1.0] downloaded from https://github.com/OCamlPro/ocplib-endian/archive/1.0.tar.gz
[parsexp.v0.12.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.12/files/parsexp-v0.12.0.tar.gz
[ppx_derivers.1.2.1] downloaded from https://github.com/ocaml-ppx/ppx_derivers/archive/1.2.1.tar.gz
[ppx_fields_conv.v0.12.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.12/files/ppx_fields_conv-v0.12.0.tar.gz
[ppx_deriving.4.4] downloaded from https://github.com/ocaml-ppx/ppx_deriving/archive/v4.4.tar.gz
[ppx_sexp_conv.v0.12.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.12/files/ppx_sexp_conv-v0.12.0.tar.gz
[ppx_tools.5.1+4.06.0] downloaded from https://github.com/ocaml-ppx/ppx_tools/archive/5.1+4.06.0.tar.gz
[ppxfind.1.3] downloaded from https://github.com/diml/ppxfind/releases/download/1.3/ppxfind-1.3.tbz
[ppxlib.0.8.0] downloaded from https://github.com/ocaml-ppx/ppxlib/archive/0.8.0.tar.gz
[prometheus.0.5] downloaded from https://github.com/mirage/prometheus/releases/download/v0.5/prometheus-0.5.tbz
[protocol-9p.2.0.1] downloaded from https://github.com/mirage/ocaml-9p/releases/download/v2.0.1/protocol-9p-v2.0.1.tbz
[protocol-9p-unix.2.0.1] downloaded from https://github.com/mirage/ocaml-9p/releases/download/v2.0.1/protocol-9p-v2.0.1.tbz
[rresult.0.6.0] downloaded from http://erratique.ch/software/rresult/releases/rresult-0.6.0.tbz
[re.1.9.0] downloaded from https://github.com/ocaml/ocaml-re/releases/download/1.9.0/re-1.9.0.tbz
[sexplib0.v0.12.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.12/files/sexplib0-v0.12.0.tar.gz
[sexplib.v0.12.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.12/files/sexplib-v0.12.0.tar.gz
[stdio.v0.12.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.12/files/stdio-v0.12.0.tar.gz
[stringext.1.6.0] downloaded from https://github.com/rgrinberg/stringext/releases/download/1.6.0/stringext-1.6.0.tbz
[uchar.0.0.2] downloaded from https://github.com/ocaml/uchar/releases/download/v0.0.2/uchar-0.0.2.tbz
[uutf.1.0.2] downloaded from http://erratique.ch/software/uutf/releases/uutf-1.0.2.tbz
[uri.3.0.0] downloaded from https://github.com/mirage/ocaml-uri/releases/download/v3.0.0/uri-v3.0.0.tbz
[uri-sexp.3.0.0] downloaded from https://github.com/mirage/ocaml-uri/releases/download/v3.0.0/uri-v3.0.0.tbz
[win-error.1.0] downloaded from https://github.com/mirage/ocaml-win-error/releases/download/1.0/win-error-1.0.tbz
[zarith.1.7] downloaded from https://github.com/ocaml/Zarith/archive/release-1.7.tar.gz

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> installed jbuilder.transition
-> installed mirage-no-solo5.1
-> installed mirage-no-xen.1
-> installed asetmap.0.8.1
-> installed bigarray-compat.1.0.0
-> installed conf-gmp.1
-> installed conf-perl.1
-> installed cpuid.0.1.2
-> installed logs.0.6.3
-> installed decompress.0.7
-> installed magic-mime.1.1.1
-> installed mirage-device.1.2.0
-> installed mirage-flow.1.6.0
-> installed mtime.1.1.0
-> installed ocaml-compiler-libs.v0.12.0
-> installed ppx_derivers.1.2.1
-> installed ppx_tools.5.1+4.06.0
-> installed base64.3.2.0
-> installed cstruct.5.0.0
-> installed irmin-watcher.0.4.1
-> installed mirage-channel.3.2.0
-> installed mirage-clock.2.0.0
-> installed re.1.9.0
-> installed rresult.0.6.0
-> installed sexplib0.v0.12.0
-> installed stringext.1.6.0
-> installed win-error.1.0
-> installed num.1.2
-> installed cstruct-lwt.5.0.0
-> installed datakit-client.0.12.3
-> installed hex.1.4.0
-> installed io-page.2.3.0
-> installed macaddr.3.1.0
-> installed mirage-flow-lwt.1.6.0
-> installed mstruct.1.4.0
-> installed ocaml-migrate-parsetree.1.4.0
-> installed ocamlgraph.1.8.8
-> installed base.v0.12.2
-> installed io-page-unix.2.3.0
-> installed ipaddr.3.1.0
-> installed mirage-channel-lwt.3.2.0
-> installed ocb-stubblr.0.1.1-1
-> installed ocplib-endian.1.0
-> installed fieldslib.v0.12.0
-> installed parsexp.v0.12.0
-> installed ppxfind.1.3
-> installed prometheus.0.5
-> installed stdio.v0.12.0
-> installed uchar.0.0.2
-> installed uri.3.0.0
-> installed zarith.1.7
-> installed ppx_deriving.4.4
-> installed sexplib.v0.12.0
-> installed uutf.1.0.2
-> installed git.1.11.5
-> installed cstruct-sexp.5.0.0
-> installed jsonm.1.0.1
-> installed ppxlib.0.8.0
-> installed irmin.1.4.0
-> installed ppx_fields_conv.v0.12.0
-> installed ppx_sexp_conv.v0.12.0
-> installed irmin-mem.1.3.0
-> installed irmin-git.1.3.0
-> installed conduit.1.4.0
-> installed uri-sexp.3.0.0
-> installed protocol-9p.2.0.1
-> installed conduit-lwt.1.4.0
-> installed protocol-9p-unix.2.0.1
-> installed cohttp.2.1.3
-> installed conduit-lwt-unix.1.4.0
-> installed cohttp-lwt.2.1.3
-> installed nocrypto.0.5.4-1
-> installed git-http.1.11.4
-> installed cohttp-lwt-unix.2.1.3
-> installed git-unix.1.11.5
Done.

<><> jbuilder.transition installed successfully <><><><><><><><><><><><><><><><>
=> Jbuilder has been renamed and the jbuilder package is now a transition package. Use the dune package instead.
# Run eval $(opam env) to update the current shell environment
 ---> b8efcfb596f7
Removing intermediate container d0d65bd35c41
Step 12/17 : COPY . /home/opam/src/datakit
 ---> 1a4234fc7c15
Removing intermediate container 4cfed41386c6
Step 13/17 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in a8acf18f0522
 ---> 562341f427bd
Removing intermediate container a8acf18f0522
Step 14/17 : RUN opam update --dev && opam upgrade
 ---> Running in ba200e8cf3e2

<><> Synchronising development packages <><><><><><><><><><><><><><><><><><><><>
[datakit.0.12.3] synchronised from file:///home/opam/src/datakit
[datakit-bridge-github.0.12.3] synchronised from file:///home/opam/src/datakit
[datakit-bridge-local-git.0.12.3] synchronised from file:///home/opam/src/datakit
[datakit-ci.0.12.4] synchronised from file:///home/opam/src/datakit
[datakit-client.0.12.3] synchronised from file:///home/opam/src/datakit
[datakit-client-9p.0.12.3] synchronised from file:///home/opam/src/datakit
[datakit-client-git.0.12.3] synchronised from file:///home/opam/src/datakit
[datakit-github.0.12.3] synchronised from file:///home/opam/src/datakit
[datakit-server.0.12.3] synchronised from file:///home/opam/src/datakit
[datakit-server-9p.0.12.3] synchronised from file:///home/opam/src/datakit
Now run 'opam upgrade' to apply any package updates.
The following actions will be performed:
  - recompile datakit-client 0.12.3* [upstream changes]
[datakit-client.0.12.3] no changes from file:///home/opam/src/datakit

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> removed   datakit-client.0.12.3
-> installed datakit-client.0.12.3
Done.
# Run eval $(opam env) to update the current shell environment
 ---> 4faf26921b18
Removing intermediate container ba200e8cf3e2
Step 15/17 : RUN opam install datakit-client-9p datakit-client-git -tyv
 ---> Running in 6565de2cb60e

<><> Synchronising pinned packages ><><><><><><><><><><><><><><><><><><><><><><>
Processing  1/2: [datakit-client-9p.0.12.3: rsync]
Processing  2/2: [datakit-client-9p.0.12.3: rsync] [datakit-client-git.0.12.3: rsync]
[datakit-client-9p.0.12.3] no changes from file:///home/opam/src/datakit
Processing  2/2: [datakit-client-git.0.12.3: rsync]
[datakit-client-git.0.12.3] no changes from file:///home/opam/src/datakit

The following actions will be performed:
  - install datakit-client-git 0.12.3*
  - install datakit-client-9p  0.12.3*
===== 2 to install =====
Processing  1/2: [datakit-client-9p.0.12.3: rsync]
Processing  2/2: [datakit-client-9p.0.12.3: rsync] [datakit-client-git.0.12.3: rsync]
[datakit-client-9p.0.12.3] synchronised from file:///home/opam/src/datakit
Processing  2/2: [datakit-client-git.0.12.3: rsync]
[datakit-client-git.0.12.3] synchronised from file:///home/opam/src/datakit

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
Processing  1/4: [datakit-client-9p: dune build]
Processing  2/4: [datakit-client-9p: dune build] [datakit-client-git: dune build]
+ /home/opam/.opam/4.07/bin/dune "build" "-p" "datakit-client-9p" "-j" "71" (CWD=/home/opam/.opam/4.07/.opam-switch/build/datakit-client-9p.0.12.3)
-> compiled  datakit-client-9p.0.12.3
Processing  2/4: [datakit-client-git: dune build]
-> installed datakit-client-9p.0.12.3
Processing  3/4: [datakit-client-git: dune build]
+ /home/opam/.opam/4.07/bin/dune "build" "-p" "datakit-client-git" "-j" "71" (CWD=/home/opam/.opam/4.07/.opam-switch/build/datakit-client-git.0.12.3)
Processing  3/4: [datakit-client-git: dune runtest]
+ /home/opam/.opam/4.07/bin/dune "runtest" "tests/datakit-git" (CWD=/home/opam/.opam/4.07/.opam-switch/build/datakit-client-git.0.12.3)
-         test alias tests/datakit-git/runtest
- /bin/sh: tput: not found
- stty: 'standard input': Not a tty
- +7304us irw-polling [INFO] Polling mode
- Testing datakit-git.
- This run has ID `B5FBA75B-6DFD-4D2A-8323-235EF5499458`.
- [33m ...[m                [36mclient[m          0   Transaction.[32m[OK][m                [36mclient[m          0   Transaction.
- [33m ...[m                [36mclient[m          1   Watch.[32m[OK][m                [36mclient[m          1   Watch.
- [33m ...[m                [36mclient[m          2   Make dirs.[32m[OK][m                [36mclient[m          2   Make dirs.
- [33m ...[m                [36mclient[m          3   Truncate.[32m[OK][m                [36mclient[m          3   Truncate.
- [33m ...[m                [36mclient[m          4   Parents.[32m[OK][m                [36mclient[m          4   Parents.
- [33m ...[m                [36mclient[m          5   Merge.[32m[OK][m                [36mclient[m          5   Merge.
- [33m ...[m                [36mclient[m          6   Diff.[32m[OK][m                [36mclient[m          6   Diff.
- [33m ...[m                [36mclient[m          7   Merge_metadata.[32m[OK][m                [36mclient[m          7   Merge_metadata.
- [33m ...[m                [36mclient[m          8   Merge empty.[32m[OK][m                [36mclient[m          8   Merge empty.
- [33m ...[m                [36mclient[m          9   Conflicts.[32m[OK][m                [36mclient[m          9   Conflicts.
- [33m ...[m                [36mclient[m         10   Large write.[32m[OK][m                [36mclient[m         10   Large write.
- [33m ...[m                [36mclient[m         11   Remove.[32m[OK][m                [36mclient[m         11   Remove.
- [33m ...[m                [36mclient[m         12   Remotes.[33m[SKIP][m              [36mclient[m         12   Remotes.
- [33m ...[m                [36mclient[m         13   Create_or_replace.[33m[SKIP][m              [36mclient[m         13   Create_or_replace.
- The full test results are available in `/home/opam/.opam/4.07/.opam-switch/build/datakit-client-git.0.12.3/_build/default/tests/datakit-git/_build/_tests/B5FBA75B-6DFD-4D2A-8323-235EF5499458`.
- [32mTest Successful[m in 0.376s. 12 tests run.
-> compiled  datakit-client-git.0.12.3
-> installed datakit-client-git.0.12.3
Done.
# Run eval $(opam env) to update the current shell environment
 ---> 9469510cf5f0
Removing intermediate container 6565de2cb60e
Step 16/17 : RUN sudo mkdir /data && sudo chown opam.nogroup /data && chmod 700 /data &&     sudo cp $(opam config exec -- which datakit-mount) /usr/bin/datakit-mount
 ---> Running in d83b4eb03ff9
 ---> 56c445c54105
Removing intermediate container d83b4eb03ff9
Step 17/17 : CMD bash -c "/usr/bin/datakit-mount -h $(getent hosts datakit | awk '{print $1}')";     bash
 ---> Running in 605aeecd9625
 ---> f4d5da2148ca
Removing intermediate container 605aeecd9625
Successfully built f4d5da2148ca
[2019-07-12 14:26.54] Success
