=== Docker build Dockerfile.ci
[2019-04-14 14:19.56] Starting...
Cloning into '/tmp/with_clone816b42d'...
done.
HEAD is now at 5561a65 ci: depend on the right ppx_sexp_conv minimum
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 5.969 MB
Step 1/16 : FROM ocaml/opam2:alpine
alpine: Pulling from ocaml/opam2
Digest: sha256:ff181c65a9850ab2a4da983b4496ab30e68f68e076474a7605b4ba2522aeb24a
Status: Image is up to date for ocaml/opam2:alpine
 ---> 29728b366e85
Step 2/16 : RUN sudo apk add --no-cache tzdata aspcud gmp-dev perl libev-dev m4
 ---> Using cache
 ---> 1e9ade81d76e
Step 3/16 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Using cache
 ---> 53ee9b5bde41
Step 4/16 : RUN git -C /home/opam/opam-repository fetch origin &&     git -C /home/opam/opam-repository reset df84483e523f1eec710a2118e05920f9cdf882d3 --hard &&     opam update -u
 ---> Using cache
 ---> 1cb3193c3e82
Step 5/16 : RUN opam install alcotest lwt conf-libev inotify
 ---> Using cache
 ---> e025d81acf57
Step 6/16 : COPY check-libev.ml /tmp/check-libev.ml
 ---> Using cache
 ---> fe1c590114b6
Step 7/16 : RUN opam exec -- ocaml /tmp/check-libev.ml
 ---> Using cache
 ---> a78e8cf8d253
Step 8/16 : COPY *.opam /home/opam/src/datakit/
 ---> fe0b7de45ef8
Removing intermediate container 717b5e993003
Step 9/16 : RUN opam pin add /home/opam/src/datakit/ -n
 ---> Running in 43d39c53a09a
This will pin the following packages: datakit, datakit-server, datakit-server-9p, datakit-github, datakit-client, datakit-client-git, datakit-client-9p, datakit-ci, datakit-bridge-local-git, datakit-bridge-github. Continue? [Y/n] y
[datakit.0.12.3: rsync]
[datakit.0.12.3] synchronised from file:///home/opam/src/datakit
datakit is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-server.0.12.3: rsync]
[datakit-server.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-server is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-server-9p.0.12.3: rsync]
[datakit-server-9p.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-server-9p is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-github.0.12.3: rsync]
[datakit-github.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-github is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-client.0.12.3: rsync]
[datakit-client.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-client is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-client-git.0.12.3: rsync]
[datakit-client-git.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-client-git is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-client-9p.0.12.3: rsync]
[datakit-client-9p.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-client-9p is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-ci.0.12.3: rsync]
[datakit-ci.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-ci is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-bridge-local-git.0.12.3: rsync]
[datakit-bridge-local-git.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-bridge-local-git is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-bridge-github.0.12.3: rsync]
[datakit-bridge-github.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-bridge-github is now pinned to file:///home/opam/src/datakit (version 0.12.3)
 ---> 0dc7e2b05a91
Removing intermediate container 43d39c53a09a
Step 10/16 : RUN sudo apk add --no-cache libressl-dev linux-headers pcre-dev
 ---> Running in acc23999c8ea
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz
(1/10) Installing libressl2.7-libcrypto (2.7.5-r0)
(2/10) Installing libressl2.7-libssl (2.7.5-r0)
(3/10) Installing libressl2.7-libtls (2.7.5-r0)
(4/10) Installing libressl-dev (2.7.5-r0)
(5/10) Installing linux-headers (4.18.13-r1)
(6/10) Installing libpcre16 (8.42-r1)
(7/10) Installing libpcre32 (8.42-r1)
(8/10) Installing pcre (8.42-r1)
(9/10) Installing libpcrecpp (8.42-r1)
(10/10) Installing pcre-dev (8.42-r1)
Executing busybox-1.29.3-r10.trigger
Executing ca-certificates-20190108-r0.trigger
OK: 287 MiB in 100 packages
 ---> 53d592f5d576
Removing intermediate container acc23999c8ea
Step 11/16 : RUN opam install datakit-ci --deps -t
 ---> Running in 2204657cf066

<><> Synchronising pinned packages ><><><><><><><><><><><><><><><><><><><><><><>
[datakit-ci.0.12.3] no changes from file:///home/opam/src/datakit

The following actions will be performed:
  - install conf-gmp                1
  - install mirage-no-xen           1
  - install ppx_tools               5.1+4.06.0
  - install num                     1.1
  - install uchar                   0.0.2
  - install dispatch                0.4.0
  - install camomile                1.0.1
  - install cpuid                   0.1.2
  - install win-error               1.0
  - install ptime                   0.8.4
  - install react                   1.2.1
  - install mirage-device           1.2.0
  - install sexplib0                v0.12.0
  - install base64                  3.2.0
  - install mtime                   1.1.0
  - install cppo_ocamlbuild         1.6.0
  - install ocb-stubblr             0.1.1-1
  - install ppx_derivers            1.2.1
  - install stringext               1.5.0
  - install magic-mime              1.1.1
  - install calendar                2.04
  - install mirage-no-solo5         1
  - install duration                0.1.2
  - install decompress              0.7
  - install conf-perl               1
  - install cstruct                 4.0.0
  - install rresult                 0.6.0
  - install re                      1.9.0
  - install ocamlgraph              1.8.8
  - install logs                    0.6.2
  - install asetmap                 0.8.1
  - install ocaml-compiler-libs     v0.11.0
  - install ocplib-endian           1.0
  - install easy-format             1.3.1
  - install lwt_log                 1.1.0
  - install conf-which              1
  - install mirage-flow             1.5.0
  - install bigarray-compat         1.0.0
  - install menhir                  20181113
  - install uutf                    1.0.2
  - install crunch                  3.0.0
  - install zed                     1.6
  - install lwt_react               1.1.2
  - install mirage-time             1.1.0
  - install mirage-clock            2.0.0
  - install macaddr                 3.1.0
  - install base                    v0.12.0
  - install named-pipe              0.4.0
  - install ocaml-migrate-parsetree 1.2.0
  - install zarith                  1.7
  - install mstruct                 1.4.0
  - install datakit-client          0.12.3*
  - install cstruct-lwt             4.0.0
  - install redis                   0.3.6
  - install win-eventlog            0.2
  - install irmin-watcher           0.4.0
  - install datakit-server          0.12.3*
  - install asl                     0.11
  - install prometheus              0.5
  - install biniou                  1.2.0
  - install mirage-channel          3.2.0
  - install io-page                 2.2.0
  - install hex                     1.4.0
  - install atd                     2.0.0
  - install tyxml                   4.3.0
  - install jsonm                   1.0.1
  - install lambda-term             1.13
  - install mirage-time-lwt         1.1.0
  - install mirage-flow-lwt         1.5.0
  - install ipaddr                  3.1.0
  - install stdio                   v0.12.0
  - install parsexp                 v0.12.0
  - install fieldslib               v0.12.0
  - install ppx_tools_versioned     5.2.1
  - install ppx_deriving            4.2.1
  - install asn1-combinators        0.2.0
  - install redis-lwt               0.3.6
  - install yojson                  1.7.0
  - install mirage-channel-lwt      3.2.0
  - install hvsock                  1.0.2
  - install ppxlib                  0.5.0
  - install configurator            v0.11.0
  - install sexplib                 v0.12.0
  - install lwt_ppx                 1.2.2
  - install atdgen-runtime          2.0.0
  - install ppx_sexp_conv           v0.12.0
  - install ppx_fields_conv         v0.12.0
  - install io-page-unix            2.2.0
  - install ppx_cstruct             4.0.0
  - install cstruct-sexp            4.0.0
  - install multipart-form-data     0.2.0
  - install atdgen                  2.0.0
  - install uri                     2.2.0
  - install nocrypto                0.5.4-1
  - install protocol-9p             2.0.1
  - install irmin                   1.4.0
  - install git                     1.11.5
  - install conduit                 1.4.0
  - install cohttp                  2.1.2
  - install x509                    0.6.3
  - install session                 0.4.1
  - install pbkdf                   1.0.0
  - install protocol-9p-unix        2.0.1
  - install datakit-server-9p       0.12.3*
  - install irmin-mem               1.3.0
  - install irmin-fs                1.3.0
  - install irmin-git               1.3.0
  - install conduit-lwt             1.4.0
  - install webmachine              0.5.0
  - install cohttp-lwt              2.0.0
  - install tls                     0.10.2
  - install session-redis-lwt       0.4.1
  - install session-cohttp          0.4.1
  - install datakit-client-9p       0.12.3*
  - install irmin-http              1.3.3
  - install github                  4.0.0
  - install git-http                1.11.4
  - install conduit-lwt-unix        1.4.0
  - install session-webmachine      0.4.1
  - install cohttp-lwt-unix         2.0.0
  - install prometheus-app          0.5
  - install github-unix             4.0.0
  - install git-unix                1.11.5
  - install datakit                 0.12.3*
  - install irmin-unix              1.3.3
  - install datakit-client-git      0.12.3*
  - install datakit-github          0.12.3*
===== 127 to install =====

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[asetmap.0.8.1] downloaded from http://erratique.ch/software/asetmap/releases/asetmap-0.8.1.tbz
[asl.0.11] downloaded from https://github.com/mirage/ocaml-asl/releases/download/0.11/asl-0.11.tbz
[asn1-combinators.0.2.0] downloaded from https://github.com/mirleft/ocaml-asn1-combinators/releases/download/v0.2.0/asn1-combinators-0.2.0.tbz
[atd.2.0.0] downloaded from https://github.com/mjambon/atd/releases/download/2.0.0/atd-2.0.0.tbz
[atdgen.2.0.0] downloaded from https://github.com/mjambon/atd/releases/download/2.0.0/atd-2.0.0.tbz
[atdgen-runtime.2.0.0] downloaded from https://github.com/mjambon/atd/releases/download/2.0.0/atd-2.0.0.tbz
[base.v0.12.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.12/files/base-v0.12.0.tar.gz
[base64.3.2.0] downloaded from https://github.com/mirage/ocaml-base64/releases/download/v3.2.0/base64-v3.2.0.tbz
[bigarray-compat.1.0.0] downloaded from https://github.com/mirage/bigarray-compat/archive/v1.0.0.tar.gz
[biniou.1.2.0] downloaded from https://github.com/mjambon/biniou/archive/v1.2.0.tar.gz
[calendar.2.04] downloaded from https://download.ocamlcore.org/calendar/calendar/2.04/calendar-2.04.tar.gz
[cohttp.2.1.2] downloaded from https://github.com/mirage/ocaml-cohttp/releases/download/v2.1.2/cohttp-v2.1.2.tbz
[cohttp-lwt.2.0.0] downloaded from https://github.com/mirage/ocaml-cohttp/releases/download/v2.0.0/cohttp-v2.0.0.tbz
[cohttp-lwt-unix.2.0.0] found in cache
[camomile.1.0.1] downloaded from https://github.com/yoriyuki/Camomile/releases/download/1.0.1/camomile-1.0.1.tbz
[conduit.1.4.0] downloaded from https://github.com/mirage/ocaml-conduit/releases/download/v1.4.0/conduit-v1.4.0.tbz
[conduit-lwt-unix.1.4.0] found in cache
[conduit-lwt.1.4.0] downloaded from https://github.com/mirage/ocaml-conduit/releases/download/v1.4.0/conduit-v1.4.0.tbz
[configurator.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/configurator-v0.11.0.tar.gz
[cppo_ocamlbuild.1.6.0] downloaded from https://github.com/mjambon/cppo/archive/v1.6.0.tar.gz
[cpuid.0.1.2] downloaded from https://github.com/pqwy/cpuid/releases/download/v0.1.2/cpuid-v0.1.2.tbz
[crunch.3.0.0] downloaded from https://github.com/mirage/ocaml-crunch/releases/download/v3.0.0/crunch-v3.0.0.tbz
[cstruct.4.0.0] downloaded from https://github.com/mirage/ocaml-cstruct/releases/download/v4.0.0/cstruct-v4.0.0.tbz
[datakit.0.12.3] synchronised from file:///home/opam/src/datakit
[datakit-client.0.12.3] synchronised from file:///home/opam/src/datakit
[datakit-client-9p.0.12.3] synchronised from file:///home/opam/src/datakit
[datakit-client-git.0.12.3] synchronised from file:///home/opam/src/datakit
[datakit-github.0.12.3] synchronised from file:///home/opam/src/datakit
[datakit-server.0.12.3] synchronised from file:///home/opam/src/datakit
[datakit-server-9p.0.12.3] synchronised from file:///home/opam/src/datakit
[cstruct-lwt.4.0.0] downloaded from https://github.com/mirage/ocaml-cstruct/releases/download/v4.0.0/cstruct-v4.0.0.tbz
[cstruct-sexp.4.0.0] downloaded from https://github.com/mirage/ocaml-cstruct/releases/download/v4.0.0/cstruct-v4.0.0.tbz
[decompress.0.7] downloaded from https://github.com/mirage/decompress/releases/download/v0.7/decompress-0.7.tbz
[dispatch.0.4.0] downloaded from https://github.com/inhabitedtype/ocaml-dispatch/archive/0.4.0.tar.gz
[duration.0.1.2] downloaded from https://github.com/hannesm/duration/releases/download/0.1.2/duration-0.1.2.tbz
[easy-format.1.3.1] downloaded from https://github.com/mjambon/easy-format/archive/v1.3.1.tar.gz
[fieldslib.v0.12.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.12/files/fieldslib-v0.12.0.tar.gz
[git.1.11.5] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.11.5/git-1.11.5.tbz
[git-http.1.11.4] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.11.4/git-1.11.4.tbz
[git-unix.1.11.5] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.11.5/git-1.11.5.tbz
[github.4.0.0] downloaded from https://github.com/mirage/ocaml-github/releases/download/4.0.0/github-4.0.0.tbz
[github-unix.4.0.0] downloaded from https://github.com/mirage/ocaml-github/releases/download/4.0.0/github-4.0.0.tbz
[hex.1.4.0] downloaded from https://github.com/mirage/ocaml-hex/releases/download/v1.4.0/hex-v1.4.0.tbz
[hvsock.1.0.2] downloaded from https://github.com/mirage/ocaml-hvsock/archive/1.0.2.tar.gz
[io-page.2.2.0] downloaded from https://github.com/mirage/io-page/releases/download/v2.2.0/io-page-v2.2.0.tbz
[io-page-unix.2.2.0] downloaded from https://github.com/mirage/io-page/releases/download/v2.2.0/io-page-v2.2.0.tbz
[ipaddr.3.1.0] downloaded from https://github.com/mirage/ocaml-ipaddr/releases/download/v3.1.0/ipaddr-v3.1.0.tbz
[irmin-fs.1.3.0] downloaded from https://github.com/mirage/irmin/releases/download/1.3.0/irmin-1.3.0.tbz
[irmin-git.1.3.0] downloaded from https://github.com/mirage/irmin/releases/download/1.3.0/irmin-1.3.0.tbz
[irmin-mem.1.3.0] found in cache
[irmin.1.4.0] downloaded from https://github.com/mirage/irmin/releases/download/1.4.0/irmin-1.4.0.tbz
[irmin-http.1.3.3] downloaded from https://github.com/mirage/irmin/releases/download/1.3.3/irmin-1.3.3.tbz
[jsonm.1.0.1] downloaded from http://erratique.ch/software/jsonm/releases/jsonm-1.0.1.tbz
[irmin-watcher.0.4.0] downloaded from https://github.com/mirage/irmin-watcher/releases/download/0.4.0/irmin-watcher-0.4.0.tbz
[irmin-unix.1.3.3] downloaded from https://github.com/mirage/irmin/releases/download/1.3.3/irmin-1.3.3.tbz
[logs.0.6.2] downloaded from http://erratique.ch/software/logs/releases/logs-0.6.2.tbz
[lambda-term.1.13] downloaded from https://github.com/diml/lambda-term/releases/download/1.13/lambda-term-1.13.tbz
[lwt_log.1.1.0] downloaded from https://github.com/aantron/lwt_log/archive/1.1.0.tar.gz
[macaddr.3.1.0] found in cache
[lwt_ppx.1.2.2] downloaded from https://github.com/ocsigen/lwt/archive/4.2.0.tar.gz
[menhir.20181113] downloaded from https://gitlab.inria.fr/fpottier/menhir/repository/20181113/archive.tar.gz
[magic-mime.1.1.1] downloaded from https://github.com/mirage/ocaml-magic-mime/releases/download/v1.1.1/magic-mime-v1.1.1.tbz
[lwt_react.1.1.2] downloaded from https://github.com/ocsigen/lwt/archive/4.2.0.tar.gz
[mirage-channel.3.2.0] downloaded from https://github.com/mirage/mirage-channel/releases/download/v3.2.0/mirage-channel-v3.2.0.tbz
[mirage-channel-lwt.3.2.0] downloaded from https://github.com/mirage/mirage-channel/releases/download/v3.2.0/mirage-channel-v3.2.0.tbz
[mirage-clock.2.0.0] downloaded from https://github.com/mirage/mirage-clock/releases/download/v2.0.0/mirage-clock-v2.0.0.tbz
[mirage-device.1.2.0] downloaded from https://github.com/mirage/mirage-device/releases/download/v1.2.0/mirage-device-v1.2.0.tbz
[mirage-flow.1.5.0] downloaded from https://github.com/mirage/mirage-flow/releases/download/v1.5.0/mirage-flow-1.5.0.tbz
[mirage-flow-lwt.1.5.0] downloaded from https://github.com/mirage/mirage-flow/releases/download/v1.5.0/mirage-flow-1.5.0.tbz
[mirage-time.1.1.0] downloaded from https://github.com/mirage/mirage-time/releases/download/v1.1.0/mirage-time-1.1.0.tbz
[mtime.1.1.0] downloaded from http://erratique.ch/software/mtime/releases/mtime-1.1.0.tbz
[mirage-time-lwt.1.1.0] downloaded from https://github.com/mirage/mirage-time/releases/download/v1.1.0/mirage-time-1.1.0.tbz
[mstruct.1.4.0] downloaded from https://github.com/mirage/ocaml-mstruct/releases/download/v1.4.0/mstruct-1.4.0.tbz
[multipart-form-data.0.2.0] downloaded from https://github.com/cryptosense/multipart-form-data/releases/download/v0.2.0/multipart-form-data-0.2.0.tbz
[named-pipe.0.4.0] downloaded from https://github.com/mirage/ocaml-named-pipe/releases/download/0.4.0/named-pipe-0.4.0.tbz
[ocaml-compiler-libs.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/ocaml-compiler-libs-v0.11.0.tar.gz
[nocrypto.0.5.4-1] downloaded from https://github.com/mirleft/ocaml-nocrypto/releases/download/v0.5.4/nocrypto-0.5.4.tbz
[num.1.1] downloaded from https://github.com/ocaml/num/archive/v1.1.tar.gz
[ocamlgraph.1.8.8] downloaded from http://ocamlgraph.lri.fr/download/ocamlgraph-1.8.8.tar.gz
[ocaml-migrate-parsetree.1.2.0] downloaded from https://github.com/ocaml-ppx/ocaml-migrate-parsetree/releases/download/v1.2.0/ocaml-migrate-parsetree-v1.2.0.tbz
[ocb-stubblr.0.1.1-1] downloaded from https://github.com/pqwy/ocb-stubblr/releases/download/v0.1.1/ocb-stubblr-0.1.1.tbz
[parsexp.v0.12.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.12/files/parsexp-v0.12.0.tar.gz
[ocplib-endian.1.0] downloaded from https://github.com/OCamlPro/ocplib-endian/archive/1.0.tar.gz
[ppx_cstruct.4.0.0] found in cache
[pbkdf.1.0.0] downloaded from https://github.com/abeaumont/ocaml-pbkdf/releases/download/1.0.0/pbkdf-1.0.0.tbz
[ppx_derivers.1.2.1] downloaded from https://github.com/ocaml-ppx/ppx_derivers/archive/1.2.1.tar.gz
[ppx_deriving.4.2.1] downloaded from https://github.com/ocaml-ppx/ppx_deriving/archive/v4.2.1.tar.gz
[ppx_fields_conv.v0.12.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.12/files/ppx_fields_conv-v0.12.0.tar.gz
[ppx_sexp_conv.v0.12.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.12/files/ppx_sexp_conv-v0.12.0.tar.gz
[ppx_tools.5.1+4.06.0] downloaded from https://github.com/ocaml-ppx/ppx_tools/archive/5.1+4.06.0.tar.gz
[ppx_tools_versioned.5.2.1] downloaded from https://github.com/ocaml-ppx/ppx_tools_versioned/archive/5.2.1.tar.gz
[ppxlib.0.5.0] downloaded from https://github.com/ocaml-ppx/ppxlib/releases/download/0.5.0/ppxlib-0.5.0.tbz
[prometheus.0.5] downloaded from https://github.com/mirage/prometheus/releases/download/v0.5/prometheus-0.5.tbz
[prometheus-app.0.5] downloaded from https://github.com/mirage/prometheus/releases/download/v0.5/prometheus-0.5.tbz
[ptime.0.8.4] downloaded from http://erratique.ch/software/ptime/releases/ptime-0.8.4.tbz
[protocol-9p.2.0.1] downloaded from https://github.com/mirage/ocaml-9p/releases/download/v2.0.1/protocol-9p-v2.0.1.tbz
[react.1.2.1] downloaded from http://erratique.ch/software/react/releases/react-1.2.1.tbz
[protocol-9p-unix.2.0.1] downloaded from https://github.com/mirage/ocaml-9p/releases/download/v2.0.1/protocol-9p-v2.0.1.tbz
[re.1.9.0] downloaded from https://github.com/ocaml/ocaml-re/releases/download/1.9.0/re-1.9.0.tbz
[rresult.0.6.0] downloaded from http://erratique.ch/software/rresult/releases/rresult-0.6.0.tbz
[redis.0.3.6] downloaded from https://github.com/0xffea/ocaml-redis/archive/0.3.6.tar.gz
[redis-lwt.0.3.6] downloaded from https://github.com/0xffea/ocaml-redis/archive/0.3.6.tar.gz
[session.0.4.1] downloaded from https://github.com/inhabitedtype/ocaml-session/archive/0.4.1.tar.gz
[session-webmachine.0.4.1] found in cache
[session-cohttp.0.4.1] downloaded from https://github.com/inhabitedtype/ocaml-session/archive/0.4.1.tar.gz
[session-redis-lwt.0.4.1] downloaded from https://github.com/inhabitedtype/ocaml-session/archive/0.4.1.tar.gz
[sexplib.v0.12.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.12/files/sexplib-v0.12.0.tar.gz
[sexplib0.v0.12.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.12/files/sexplib0-v0.12.0.tar.gz
[stdio.v0.12.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.12/files/stdio-v0.12.0.tar.gz
[stringext.1.5.0] downloaded from https://github.com/rgrinberg/stringext/archive/1.5.0.zip
[tyxml.4.3.0] downloaded from https://github.com/ocsigen/tyxml/releases/download/4.3.0/tyxml-4.3.0.tbz
[tls.0.10.2] downloaded from https://github.com/mirleft/ocaml-tls/releases/download/0.10.2/tls-0.10.2.tbz
[uchar.0.0.2] downloaded from https://github.com/ocaml/uchar/releases/download/v0.0.2/uchar-0.0.2.tbz
[uutf.1.0.2] downloaded from http://erratique.ch/software/uutf/releases/uutf-1.0.2.tbz
[uri.2.2.0] downloaded from https://github.com/mirage/ocaml-uri/releases/download/v2.2.0/uri-v2.2.0.tbz
[webmachine.0.5.0] downloaded from https://github.com/inhabitedtype/ocaml-webmachine/archive/0.5.0.tar.gz
[win-error.1.0] downloaded from https://github.com/mirage/ocaml-win-error/releases/download/1.0/win-error-1.0.tbz
[win-eventlog.0.2] downloaded from https://github.com/djs55/ocaml-win-eventlog/archive/v0.2.tar.gz
[x509.0.6.3] downloaded from https://github.com/mirleft/ocaml-x509/releases/download/0.6.3/x509-0.6.3.tbz
[yojson.1.7.0] downloaded from https://github.com/ocaml-community/yojson/releases/download/1.7.0/yojson-1.7.0.tbz
[zarith.1.7] downloaded from https://github.com/ocaml/Zarith/archive/release-1.7.tar.gz
[zed.1.6] downloaded from https://github.com/diml/zed/releases/download/1.6/zed-1.6.tbz

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> installed mirage-no-solo5.1
-> installed mirage-no-xen.1
-> installed asetmap.0.8.1
-> installed bigarray-compat.1.0.0
-> installed conf-gmp.1
-> installed conf-perl.1
-> installed conf-which.1
-> installed cppo_ocamlbuild.1.6.0
-> installed cpuid.0.1.2
-> installed cstruct.4.0.0
-> installed decompress.0.7
-> installed dispatch.0.4.0
-> installed duration.0.1.2
-> installed easy-format.1.3.1
-> installed logs.0.6.2
-> installed lwt_log.1.1.0
-> installed magic-mime.1.1.1
-> installed mirage-device.1.2.0
-> installed mirage-flow.1.5.0
-> installed mtime.1.1.0
-> installed ocaml-compiler-libs.v0.11.0
-> installed ppx_derivers.1.2.1
-> installed ppx_tools.5.1+4.06.0
-> installed asl.0.11
-> installed base64.3.2.0
-> installed biniou.1.2.0
-> installed calendar.2.04
-> installed camomile.1.0.1
-> installed cstruct-lwt.4.0.0
-> installed datakit-client.0.12.3
-> installed hex.1.4.0
-> installed io-page.2.2.0
-> installed irmin-watcher.0.4.0
-> installed mirage-channel.3.2.0
-> installed mirage-clock.2.0.0
-> installed mirage-time.1.1.0
-> installed mstruct.1.4.0
-> installed num.1.1
-> installed menhir.20181113
-> installed mirage-flow-lwt.1.5.0
-> installed mirage-time-lwt.1.1.0
-> installed ocaml-migrate-parsetree.1.2.0
-> installed ocamlgraph.1.8.8
-> installed atd.2.0.0
-> installed hvsock.1.0.2
-> installed mirage-channel-lwt.3.2.0
-> installed ocb-stubblr.0.1.1-1
-> installed ocplib-endian.1.0
-> installed ppx_deriving.4.2.1
-> installed ppx_tools_versioned.5.2.1
-> installed ptime.0.8.4
-> installed re.1.9.0
-> installed react.1.2.1
-> installed rresult.0.6.0
-> installed sexplib0.v0.12.0
-> installed stringext.1.5.0
-> installed uchar.0.0.2
-> installed win-error.1.0
-> installed win-eventlog.0.2
-> installed yojson.1.7.0
-> installed zarith.1.7
-> installed crunch.3.0.0
-> installed datakit-server.0.12.3
-> installed lwt_ppx.1.2.2
-> installed lwt_react.1.1.2
-> installed macaddr.3.1.0
-> installed named-pipe.0.4.0
-> installed prometheus.0.5
-> installed redis.0.3.6
-> installed uutf.1.0.2
-> installed zed.1.6
-> installed base.v0.12.0
-> installed atdgen-runtime.2.0.0
-> installed asn1-combinators.0.2.0
-> installed multipart-form-data.0.2.0
-> installed ipaddr.3.1.0
-> installed redis-lwt.0.3.6
-> installed jsonm.1.0.1
-> installed tyxml.4.3.0
-> installed lambda-term.1.13
-> installed fieldslib.v0.12.0
-> installed parsexp.v0.12.0
-> installed stdio.v0.12.0
-> installed atdgen.2.0.0
-> installed sexplib.v0.12.0
-> installed configurator.v0.11.0
-> installed cstruct-sexp.4.0.0
-> installed io-page-unix.2.2.0
-> installed ppx_cstruct.4.0.0
-> installed ppxlib.0.5.0
-> installed ppx_fields_conv.v0.12.0
-> installed ppx_sexp_conv.v0.12.0
-> installed protocol-9p.2.0.1
-> installed uri.2.2.0
-> installed datakit-server-9p.0.12.3
-> installed protocol-9p-unix.2.0.1
-> installed conduit.1.4.0
-> installed cohttp.2.1.2
-> installed nocrypto.0.5.4-1
-> installed git.1.11.5
-> installed irmin.1.4.0
-> installed datakit-client-9p.0.12.3
-> installed conduit-lwt.1.4.0
-> installed cohttp-lwt.2.0.0
-> installed webmachine.0.5.0
-> installed pbkdf.1.0.0
-> installed session.0.4.1
-> installed x509.0.6.3
-> installed irmin-fs.1.3.0
-> installed irmin-git.1.3.0
-> installed irmin-mem.1.3.0
-> installed git-http.1.11.4
-> installed irmin-http.1.3.3
-> installed session-cohttp.0.4.1
-> installed session-redis-lwt.0.4.1
-> installed session-webmachine.0.4.1
-> installed github.4.0.0
-> installed tls.0.10.2
-> installed conduit-lwt-unix.1.4.0
-> installed cohttp-lwt-unix.2.0.0
-> installed prometheus-app.0.5
-> installed datakit.0.12.3
-> installed git-unix.1.11.5
-> installed datakit-client-git.0.12.3
-> installed github-unix.4.0.0
-> installed datakit-github.0.12.3
-> installed irmin-unix.1.3.3
Done.
# Run eval $(opam env) to update the current shell environment
 ---> 10e8d3971a72
Removing intermediate container 2204657cf066
Step 12/16 : COPY . /home/opam/src/datakit
 ---> 3aaf23cb85fd
Removing intermediate container 243b4c6f997d
Step 13/16 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in a4f79bd9bb75
 ---> b1a33bf56470
Removing intermediate container a4f79bd9bb75
Step 14/16 : RUN opam update --dev && opam upgrade
 ---> Running in ab7acd3e0e1a

<><> Synchronising development packages <><><><><><><><><><><><><><><><><><><><>
[datakit.0.12.3] synchronised from file:///home/opam/src/datakit
[datakit-bridge-github.0.12.3] synchronised from file:///home/opam/src/datakit
[datakit-bridge-local-git.0.12.3] synchronised from file:///home/opam/src/datakit
[datakit-ci.0.12.3] synchronised from file:///home/opam/src/datakit
[datakit-client.0.12.3] synchronised from file:///home/opam/src/datakit
[datakit-client-9p.0.12.3] synchronised from file:///home/opam/src/datakit
[datakit-client-git.0.12.3] synchronised from file:///home/opam/src/datakit
[datakit-github.0.12.3] synchronised from file:///home/opam/src/datakit
[datakit-server.0.12.3] synchronised from file:///home/opam/src/datakit
[datakit-server-9p.0.12.3] synchronised from file:///home/opam/src/datakit
Now run 'opam upgrade' to apply any package updates.
The following actions will be performed:
  - recompile datakit-client     0.12.3* [upstream changes]
  - recompile datakit-server     0.12.3* [upstream changes]
  - recompile datakit-client-git 0.12.3* [upstream changes]
  - recompile datakit-client-9p  0.12.3* [upstream changes]
  - recompile datakit-server-9p  0.12.3* [upstream changes]
  - recompile datakit-github     0.12.3* [upstream changes]
  - recompile datakit            0.12.3* [upstream changes]
===== 7 to recompile =====
[datakit.0.12.3] no changes from file:///home/opam/src/datakit
[datakit-client.0.12.3] no changes from file:///home/opam/src/datakit
[datakit-client-9p.0.12.3] no changes from file:///home/opam/src/datakit
[datakit-client-git.0.12.3] no changes from file:///home/opam/src/datakit
[datakit-github.0.12.3] no changes from file:///home/opam/src/datakit
[datakit-server.0.12.3] no changes from file:///home/opam/src/datakit
[datakit-server-9p.0.12.3] no changes from file:///home/opam/src/datakit

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> removed   datakit-github.0.12.3
-> removed   datakit-client-9p.0.12.3
-> removed   datakit-client-git.0.12.3
-> removed   datakit-client.0.12.3
-> installed datakit-client.0.12.3
-> removed   datakit.0.12.3
-> removed   datakit-server-9p.0.12.3
-> removed   datakit-server.0.12.3
-> installed datakit-server.0.12.3
-> installed datakit-client-9p.0.12.3
-> installed datakit-client-git.0.12.3
-> installed datakit-server-9p.0.12.3
-> installed datakit-github.0.12.3
-> installed datakit.0.12.3
Done.
# Run eval $(opam env) to update the current shell environment
 ---> 638076b8b875
Removing intermediate container ab7acd3e0e1a
Step 15/16 : RUN opam install datakit-ci -ytv
 ---> Running in 443c7bf4bb6b

<><> Synchronising pinned packages ><><><><><><><><><><><><><><><><><><><><><><>
Processing  1/1: [datakit-ci.0.12.3: rsync]
[datakit-ci.0.12.3] no changes from file:///home/opam/src/datakit

The following actions will be performed:
  - install datakit-ci 0.12.3*
[datakit-ci.0.12.3] synchronised from file:///home/opam/src/datakit

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
Processing  1/2: [datakit-ci: dune build]
+ /home/opam/.opam/4.07/bin/dune "build" "-p" "datakit-ci" "-j" "71" (CWD=/home/opam/.opam/4.07/.opam-switch/build/datakit-ci.0.12.3)
- ocaml-crunch ci/src/cI_static.ml
- Generating cI_static.ml
- Skipping generation of .mli
Processing  1/2: [datakit-ci: dune runtest]
+ /home/opam/.opam/4.07/bin/dune "runtest" "ci/tests" (CWD=/home/opam/.opam/4.07/.opam-switch/build/datakit-ci.0.12.3)
-      test_ci alias ci/tests/runtest
- /bin/sh: tput: not found
- stty: 'standard input': Not a tty
- Testing datakit-ci.
- This run has ID `564750E3-1699-4D99-9550-B8B4868325D6`.
- [33m ...[m                [36mci[m          0   Simple.[32m[OK][m                [36mci[m          0   Simple.
- [33m ...[m                [36mci[m          1   Branch.[32m[OK][m                [36mci[m          1   Branch.
- [33m ...[m                [36mci[m          2   Circle rebuild.[32m[OK][m                [36mci[m          2   Circle rebuild.
- [33m ...[m                [36mci[m          3   Logs.[32m[OK][m                [36mci[m          3   Logs.
- [33m ...[m                [36mci[m          4   Cancel.[32m[OK][m                [36mci[m          4   Cancel.
- [33m ...[m                [36mci[m          5   Cache (disk).[32m[OK][m                [36mci[m          5   Cache (disk).
- [33m ...[m                [36mci[m          6   Cache (memory).[32m[OK][m                [36mci[m          6   Cache (memory).
- [33m ...[m                [36mci[m          7   Test pending.[32m[OK][m                [36mci[m          7   Test pending.
- [33m ...[m                [36mci[m          8   Git.[32m[OK][m                [36mci[m          8   Git.
- [33m ...[m                [36mci[m          9   Git (clone).[32m[OK][m                [36mci[m          9   Git (clone).
- [33m ...[m                [36mci[m         10   Git tag.[32m[OK][m                [36mci[m         10   Git tag.
- [33m ...[m                [36mci[m         11   Cross-project.[32m[OK][m                [36mci[m         11   Cross-project.
- [33m ...[m                [36mci[m         12   Auth.[32m[OK][m                [36mci[m         12   Auth.
- [33m ...[m                [36mci[m         13   Roles.[32m[OK][m                [36mci[m         13   Roles.
- [33m ...[m                [36mci[m         14   Live logs.[32m[OK][m                [36mci[m         14   Live logs.
- [33m ...[m                [36mci[m         15   History.[32m[OK][m                [36mci[m         15   History.
- [33m ...[m                [36mci[m         16   Process.[32m[OK][m                [36mci[m         16   Process.
- The full test results are available in `/home/opam/.opam/4.07/.opam-switch/build/datakit-ci.0.12.3/_build/default/ci/tests/_build/_tests/564750E3-1699-4D99-9550-B8B4868325D6`.
- [32mTest Successful[m in 0.364s. 17 tests run.
-> compiled  datakit-ci.0.12.3
-> installed datakit-ci.0.12.3
Done.
# Run eval $(opam env) to update the current shell environment
 ---> f3a1f76b1ac2
Removing intermediate container 443c7bf4bb6b
Step 16/16 : VOLUME /secrets
 ---> Running in 8163dd1792e5
 ---> 31dcfb4fc620
Removing intermediate container 8163dd1792e5
Successfully built 31dcfb4fc620
[2019-04-14 14:30.28] Success
