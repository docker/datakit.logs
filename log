=== Docker build Dockerfile.client
[2019-04-13 19:58.34] Starting...
Cloning into '/tmp/with_clone3120a950'...
done.
HEAD is now at 55cf7ca support the cstruct 4 interface with optional sexp
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 5.946 MB
Step 1/16 : FROM ocaml/opam2:alpine
alpine: Pulling from ocaml/opam2
8e402f1a9c57: Already exists
057924c7006a: Pulling fs layer
582bfaf0cbf8: Pulling fs layer
aac7c65e18e6: Pulling fs layer
dc15582583b6: Pulling fs layer
ca2f509fe095: Pulling fs layer
3a68a2d87652: Pulling fs layer
31ab8e51262b: Pulling fs layer
9018bab2e082: Pulling fs layer
31ab8e51262b: Waiting
dc15582583b6: Waiting
3a68a2d87652: Waiting
ca2f509fe095: Waiting
9018bab2e082: Waiting
582bfaf0cbf8: Verifying Checksum
582bfaf0cbf8: Download complete
057924c7006a: Pull complete
ca2f509fe095: Download complete
582bfaf0cbf8: Pull complete
aac7c65e18e6: Verifying Checksum
aac7c65e18e6: Download complete
dc15582583b6: Verifying Checksum
dc15582583b6: Download complete
31ab8e51262b: Verifying Checksum
31ab8e51262b: Download complete
9018bab2e082: Download complete
aac7c65e18e6: Pull complete
3a68a2d87652: Verifying Checksum
3a68a2d87652: Download complete
dc15582583b6: Pull complete
ca2f509fe095: Pull complete
3a68a2d87652: Pull complete
31ab8e51262b: Pull complete
9018bab2e082: Pull complete
Digest: sha256:ff181c65a9850ab2a4da983b4496ab30e68f68e076474a7605b4ba2522aeb24a
Status: Downloaded newer image for ocaml/opam2:alpine
 ---> 29728b366e85
Step 2/16 : RUN sudo apk add --no-cache tzdata aspcud gmp-dev perl libev-dev m4
 ---> Running in 2f53d93d23a8
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz
(1/17) Installing boost-system (1.67.0-r2)
(2/17) Installing boost-chrono (1.67.0-r2)
(3/17) Installing boost-filesystem (1.67.0-r2)
(4/17) Installing boost-regex (1.67.0-r2)
(5/17) Installing boost-thread (1.67.0-r2)
(6/17) Installing boost (1.67.0-r2)
(7/17) Installing gringo (4.5.4-r1)
(8/17) Installing clasp (3.1.3-r1)
(9/17) Installing aspcud (1.9.4-r0)
(10/17) Installing libgmpxx (6.1.2-r1)
(11/17) Installing gmp-dev (6.1.2-r1)
(12/17) Installing libev (4.25-r0)
(13/17) Installing libev-dev (4.25-r0)
(14/17) Installing m4 (1.4.18-r1)
(15/17) Installing libbz2 (1.0.6-r6)
(16/17) Installing perl (5.26.3-r0)
(17/17) Installing tzdata (2018i-r0)
Executing busybox-1.29.3-r10.trigger
OK: 260 MiB in 90 packages
 ---> bd6d685991ad
Removing intermediate container 2f53d93d23a8
Step 3/16 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Running in c8a5e2453369
 ---> e123c014dac4
Removing intermediate container c8a5e2453369
Step 4/16 : RUN git -C /home/opam/opam-repository fetch origin &&     git -C /home/opam/opam-repository reset b01a2e4e1ac2fb545d593ad40bc95b4a78dec9e2 --hard &&     opam update -u
 ---> Running in c91d980834a0
[91mFrom git://github.com/ocaml/opam-repository
   c261c4ee9c..df84483e52  master     -> origin/master
[0m[91mChecking out files:  30% (3875/12735)   [0m[91mChecking out files:  31% (3948/12735)   [0m[91mChecking out files:  32% (4076/12735)   [0m[91mChecking out files:  33% (4203/12735)   [0m[91mChecking out files:  34% (4330/12735)   [0m[91mChecking out files:  35% (4458/12735)   [0m[91mChecking out files:  36% (4585/12735)   [0m[91mChecking out files:  37% (4712/12735)   [0m[91mChecking out files:  38% (4840/12735)   [0m[91mChecking out files:  39% (4967/12735)   [0m[91mChecking out files:  40% (5094/12735)   [0m[91mChecking out files:  41% (5222/12735)   [0m[91mChecking out files:  42% (5349/12735)   [0m[91mChecking out files:  43% (5477/12735)   [0m[91mChecking out files:  44% (5604/12735)   [0m[91mChecking out files:  45% (5731/12735)   [0m[91mChecking out files:  46% (5859/12735)   [0m[91mChecking out files:  47% (5986/12735)   [0m[91mChecking out files:  48% (6113/12735)   [0m[91mChecking out files:  49% (6241/12735)   [0m[91mChecking out files:  50% (6368/12735)   [0m[91mChecking out files:  51% (6495/12735)   [0m[91mChecking out files:  52% (6623/12735)   [0m[91mChecking out files:  53% (6750/12735)   [0m[91mChecking out files:  54% (6877/12735)   [0m[91mChecking out files:  55% (7005/12735)   [0m[91mChecking out files:  55% (7057/12735)   [0m[91mChecking out files:  56% (7132/12735)   [0m[91mChecking out files:  57% (7259/12735)   [0m[91mChecking out files:  58% (7387/12735)   [0m[91mChecking out files:  59% (7514/12735)   [0m[91mChecking out files:  60% (7641/12735)   [0m[91mChecking out files:  61% (7769/12735)   [0m[91mChecking out files:  62% (7896/12735)   [0m[91mChecking out files:  63% (8024/12735)   [0m[91mChecking out files:  64% (8151/12735)   [0m[91mChecking out files:  65% (8278/12735)   [0m[91mChecking out files:  66% (8406/12735)   [0m[91mChecking out files:  67% (8533/12735)   [0m[91mChecking out files:  68% (8660/12735)   [0m[91mChecking out files:  68% (8680/12735)   [0m[91mChecking out files:  69% (8788/12735)   [0m[91mChecking out files:  70% (8915/12735)   [0m[91mChecking out files:  71% (9042/12735)   [0m[91mChecking out files:  72% (9170/12735)   [0m[91mChecking out files:  73% (9297/12735)   [0m[91mChecking out files:  74% (9424/12735)   [0m[91mChecking out files:  75% (9552/12735)   [0m[91mChecking out files:  76% (9679/12735)   [0m[91mChecking out files:  77% (9806/12735)   [0m[91mChecking out files:  78% (9934/12735)   [0m[91mChecking out files:  79% (10061/12735)   [0m[91mChecking out files:  80% (10188/12735)   [0m[91mChecking out files:  81% (10316/12735)   [0m[91mChecking out files:  82% (10443/12735)   [0m[91mChecking out files:  83% (10571/12735)   [0m[91mChecking out files:  84% (10698/12735)   [0m[91mChecking out files:  85% (10825/12735)   [0m[91mChecking out files:  86% (10953/12735)   [0m[91mChecking out files:  87% (11080/12735)   [0m[91mChecking out files:  88% (11207/12735)   [0m[91mChecking out files:  88% (11241/12735)   [0m[91mChecking out files:  89% (11335/12735)   [0m[91mChecking out files:  90% (11462/12735)   [0m[91mChecking out files:  91% (11589/12735)   [0m[91mChecking out files:  92% (11717/12735)   [0m[91mChecking out files:  93% (11844/12735)   [0m[91mChecking out files:  94% (11971/12735)   [0m[91mChecking out files:  95% (12099/12735)   [0m[91mChecking out files:  96% (12226/12735)   [0m[91mChecking out files:  97% (12353/12735)   [0m[91mChecking out files:  98% (12481/12735)   [0m[91mChecking out files:  99% (12608/12735)   [0m[91mChecking out files: 100% (12735/12735)   Checking out files: 100% (12735/12735), done.
[0mHEAD is now at b01a2e4e1a Merge pull request #13631 from SylvainBoilard/master

<><> Updating package repositories ><><><><><><><><><><><><><><><><><><><><><><>
[default] synchronised from git+file:///home/opam/opam-repository

Already up-to-date.
Nothing to do.
# Run eval $(opam env) to update the current shell environment
 ---> a2774a15628a
Removing intermediate container c91d980834a0
Step 5/16 : RUN opam install alcotest lwt conf-libev inotify
 ---> Running in fb95797091f9
The following actions will be performed:
  - install conf-m4    1          [required by ocamlfind]
  - install conf-libev 4-11
  - install cmdliner   1.0.3      [required by alcotest]
  - install dune       1.8.0      [required by alcotest]
  - install ocamlbuild 0.14.0     [required by inotify]
  - install ocamlfind  1.8.0      [required by inotify, lwt]
  - install jbuilder   transition [required by lwt]
  - install uchar      0.0.2      [required by fmt]
  - install base-bytes base       [required by inotify]
  - install result     1.3        [required by alcotest, lwt]
  - install cppo       1.6.5      [required by lwt]
  - install topkg      1.0.0      [required by fmt, astring, uuidm]
  - install lwt        4.1.0                                        For the PPX, please install package lwt_ppx
                                                                    For Lwt_log and Lwt_daemon, please install package lwt_log
  - install uuidm      0.9.7      [required by alcotest]
  - install fmt        0.8.5      [required by alcotest]
  - install astring    0.8.3      [required by alcotest]
  - install inotify    2.3
  - install alcotest   0.8.5
===== 18 to install =====

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[astring.0.8.3] downloaded from http://erratique.ch/software/astring/releases/astring-0.8.3.tbz
[cmdliner.1.0.3] downloaded from http://erratique.ch/software/cmdliner/releases/cmdliner-1.0.3.tbz
[alcotest.0.8.5] downloaded from https://github.com/mirage/alcotest/releases/download/0.8.5/alcotest-0.8.5.tbz
[cppo.1.6.5] downloaded from https://github.com/mjambon/cppo/archive/v1.6.5.tar.gz
[dune.1.8.0] downloaded from https://github.com/ocaml/dune/releases/download/1.8.0/dune-1.8.0.tbz
[fmt.0.8.5] downloaded from http://erratique.ch/software/fmt/releases/fmt-0.8.5.tbz
[inotify.2.3] downloaded from https://github.com/whitequark/ocaml-inotify/archive/v2.3.tar.gz
[lwt.4.1.0] downloaded from https://github.com/ocsigen/lwt/archive/4.1.0.tar.gz
[ocamlbuild.0.14.0] downloaded from https://github.com/ocaml/ocamlbuild/archive/0.14.0.tar.gz
[topkg.1.0.0] downloaded from http://erratique.ch/software/topkg/releases/topkg-1.0.0.tbz
[ocamlfind.1.8.0] downloaded from http://download.camlcity.org/download/findlib-1.8.0.tar.gz
[result.1.3] downloaded from https://github.com/janestreet/result/releases/download/1.3/result-1.3.tbz
[uuidm.0.9.7] downloaded from https://erratique.ch/software/uuidm/releases/uuidm-0.9.7.tbz
[uchar.0.0.2] downloaded from https://github.com/ocaml/uchar/releases/download/v0.0.2/uchar-0.0.2.tbz

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> installed conf-libev.4-11
-> installed conf-m4.1
-> installed cmdliner.1.0.3
-> installed ocamlfind.1.8.0
-> installed base-bytes.base
-> installed ocamlbuild.0.14.0
-> installed uchar.0.0.2
-> installed dune.1.8.0
-> installed jbuilder.transition
-> installed result.1.3
-> installed cppo.1.6.5
-> installed lwt.4.1.0
-> installed topkg.1.0.0
-> installed uuidm.0.9.7
-> installed fmt.0.8.5
-> installed astring.0.8.3
-> installed alcotest.0.8.5
-> installed inotify.2.3
Done.

<><> jbuilder.transition installed successfully <><><><><><><><><><><><><><><><>
=> Jbuilder has been renamed and the jbuilder package is now a transition package. Use the dune package instead.
# Run eval $(opam env) to update the current shell environment
 ---> b45d08235cca
Removing intermediate container fb95797091f9
Step 6/16 : COPY check-libev.ml /tmp/check-libev.ml
 ---> 40e6a1751709
Removing intermediate container 32219e572b4e
Step 7/16 : RUN opam config exec -- ocaml /tmp/check-libev.ml
 ---> Running in e2a8eb2882b9
 ---> 64af5d910c4f
Removing intermediate container e2a8eb2882b9
Step 8/16 : COPY *.opam /home/opam/src/datakit/
 ---> 3b8ab958fc3b
Removing intermediate container 129d3d6d77df
Step 9/16 : RUN opam pin add /home/opam/src/datakit/ -n
 ---> Running in d5f049bc93bf
This will pin the following packages: datakit, datakit-server, datakit-server-9p, datakit-github, datakit-client, datakit-client-git, datakit-client-9p, datakit-ci, datakit-bridge-local-git, datakit-bridge-github. Continue? [Y/n] y
[datakit.0.12.2: rsync]
[datakit.0.12.2] synchronised from file:///home/opam/src/datakit
datakit is now pinned to file:///home/opam/src/datakit (version 0.12.2)
[datakit-server.0.12.2: rsync]
[datakit-server.0.12.2] synchronised from file:///home/opam/src/datakit
datakit-server is now pinned to file:///home/opam/src/datakit (version 0.12.2)
[datakit-server-9p.0.12.2: rsync]
[datakit-server-9p.0.12.2] synchronised from file:///home/opam/src/datakit
datakit-server-9p is now pinned to file:///home/opam/src/datakit (version 0.12.2)
[datakit-github.0.12.2: rsync]
[datakit-github.0.12.2] synchronised from file:///home/opam/src/datakit
datakit-github is now pinned to file:///home/opam/src/datakit (version 0.12.2)
[datakit-client.0.12.2: rsync]
[datakit-client.0.12.2] synchronised from file:///home/opam/src/datakit
datakit-client is now pinned to file:///home/opam/src/datakit (version 0.12.2)
[datakit-client-git.0.12.2: rsync]
[datakit-client-git.0.12.2] synchronised from file:///home/opam/src/datakit
datakit-client-git is now pinned to file:///home/opam/src/datakit (version 0.12.2)
[datakit-client-9p.0.12.2: rsync]
[datakit-client-9p.0.12.2] synchronised from file:///home/opam/src/datakit
datakit-client-9p is now pinned to file:///home/opam/src/datakit (version 0.12.2)
[datakit-ci.0.12.2: rsync]
[datakit-ci.0.12.2] synchronised from file:///home/opam/src/datakit
datakit-ci is now pinned to file:///home/opam/src/datakit (version 0.12.2)
[datakit-bridge-local-git.0.12.2: rsync]
[datakit-bridge-local-git.0.12.2] synchronised from file:///home/opam/src/datakit
datakit-bridge-local-git is now pinned to file:///home/opam/src/datakit (version 0.12.2)
[datakit-bridge-github.0.12.2: rsync]
[datakit-bridge-github.0.12.2] synchronised from file:///home/opam/src/datakit
datakit-bridge-github is now pinned to file:///home/opam/src/datakit (version 0.12.2)
 ---> 7da67d72a809
Error removing intermediate container d5f049bc93bf: driver "aufs" failed to remove root filesystem for d5f049bc93bf601121cdef54d2681f6484689996e08317634d85f48970e14866: could not remove diff path for id cce59ce5d99bcc4689c82fa6599fc947ebe071c7c4f2051488d754c25986f768: error preparing atomic delete: rename /var/lib/docker/aufs/diff/cce59ce5d99bcc4689c82fa6599fc947ebe071c7c4f2051488d754c25986f768 /var/lib/docker/aufs/diff/cce59ce5d99bcc4689c82fa6599fc947ebe071c7c4f2051488d754c25986f768-removing: device or resource busy
Step 10/16 : RUN OPAMSOLVERTIMEOUT=120 opam install datakit-client-git datakit-client-9p --deps -t
 ---> Running in 9e0d105eee8d

<><> Synchronising pinned packages ><><><><><><><><><><><><><><><><><><><><><><>
[datakit-client-9p.0.12.2] no changes from file:///home/opam/src/datakit
[datakit-client-git.0.12.2] no changes from file:///home/opam/src/datakit

The following actions will be performed:
  - install conf-gmp                1
  - install mirage-no-xen           1
  - install ppx_tools               5.1+4.06.0
  - install seq                     base
  - install num                     1.1
  - install base64                  3.1.0
  - install win-error               1.0
  - install mirage-device           1.2.0
  - install mtime                   1.1.0
  - install cppo_ocamlbuild         1.6.0
  - install ocb-stubblr             0.1.1-1
  - install stringext               1.5.0
  - install magic-mime              1.1.1
  - install mirage-no-solo5         1
  - install decompress              0.7
  - install conf-perl               1
  - install uutf                    1.0.2
  - install rresult                 0.6.0
  - install ocamlgraph              1.8.8
  - install logs                    0.6.2
  - install asetmap                 0.8.1
  - install ocaml-compiler-libs     v0.11.0
  - install sexplib0                v0.11.0
  - install ocplib-endian           1.0
  - install ppx_derivers            1.0
  - install mirage-flow             1.5.0
  - install re                      1.8.0
  - install mirage-kv               1.1.1
  - install mirage-clock            2.0.0
  - install cpuid                   0.1.1
  - install zarith                  1.7
  - install jsonm                   1.0.1
  - install irmin-watcher           0.4.0
  - install parsexp                 v0.11.0
  - install macaddr                 3.0.0
  - install base                    v0.11.1
  - install ocaml-migrate-parsetree 1.2.0
  - install mirage-channel          3.2.0
  - install prometheus              0.5
  - install sexplib                 v0.11.0
  - install ipaddr                  3.0.0
  - install stdio                   v0.11.0
  - install ppx_deriving            4.2.1
  - install cstruct                 3.3.0
  - install ppxlib                  0.5.0
  - install mstruct                 1.4.0
  - install mirage-kv-lwt           1.1.0
  - install mirage-flow-lwt         1.5.0
  - install io-page                 2.1.0
  - install hex                     1.3.0
  - install datakit-client          0.12.2*
  - install cstruct-lwt             3.6.0
  - install ppx_sexp_conv           v0.11.2
  - install fieldslib               v0.11.0
  - install mirage-channel-lwt      3.2.0
  - install io-page-unix            2.1.0
  - install uri                     2.2.0
  - install nocrypto                0.5.4-1
  - install ppx_fields_conv         v0.11.0
  - install protocol-9p             1.0.1
  - install irmin                   1.4.0
  - install git                     1.11.5
  - install conduit                 1.4.0
  - install cohttp                  2.0.0
  - install protocol-9p-unix        1.0.1
  - install irmin-mem               1.3.0
  - install irmin-git               1.3.0
  - install conduit-lwt             1.4.0
  - install cohttp-lwt              2.0.0
  - install conduit-lwt-unix        1.4.0
  - install git-http                1.11.4
  - install cohttp-lwt-unix         2.0.0
  - install git-unix                1.11.5
===== 73 to install =====

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[asetmap.0.8.1] downloaded from http://erratique.ch/software/asetmap/releases/asetmap-0.8.1.tbz
[base64.3.1.0] downloaded from https://github.com/mirage/ocaml-base64/releases/download/v3.1.0/base64-v3.1.0.tbz
[cohttp.2.0.0] downloaded from https://github.com/mirage/ocaml-cohttp/releases/download/v2.0.0/cohttp-v2.0.0.tbz
[cohttp-lwt-unix.2.0.0] found in cache
[base.v0.11.1] downloaded from https://github.com/janestreet/base/releases/download/v0.11.1/base-v0.11.1.tbz
[cohttp-lwt.2.0.0] downloaded from https://github.com/mirage/ocaml-cohttp/releases/download/v2.0.0/cohttp-v2.0.0.tbz
[conduit.1.4.0] downloaded from https://github.com/mirage/ocaml-conduit/releases/download/v1.4.0/conduit-v1.4.0.tbz
[conduit-lwt.1.4.0] downloaded from https://github.com/mirage/ocaml-conduit/releases/download/v1.4.0/conduit-v1.4.0.tbz
[conduit-lwt-unix.1.4.0] downloaded from https://github.com/mirage/ocaml-conduit/releases/download/v1.4.0/conduit-v1.4.0.tbz
[cpuid.0.1.1] downloaded from https://github.com/pqwy/cpuid/releases/download/v0.1.1/cpuid-0.1.1.tbz
[cppo_ocamlbuild.1.6.0] downloaded from https://github.com/mjambon/cppo/archive/v1.6.0.tar.gz
[datakit-client.0.12.2] synchronised from file:///home/opam/src/datakit
[decompress.0.7] downloaded from https://github.com/mirage/decompress/releases/download/v0.7/decompress-0.7.tbz
[cstruct-lwt.3.6.0] downloaded from https://github.com/mirage/ocaml-cstruct/releases/download/v3.6.0/cstruct-v3.6.0.tbz
[cstruct.3.3.0] downloaded from https://github.com/mirage/ocaml-cstruct/releases/download/v3.3.0/cstruct-v3.3.0.tbz
[fieldslib.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/fieldslib-v0.11.0.tar.gz
[git.1.11.5] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.11.5/git-1.11.5.tbz
[git-http.1.11.4] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.11.4/git-1.11.4.tbz
[git-unix.1.11.5] downloaded from https://github.com/mirage/ocaml-git/releases/download/1.11.5/git-1.11.5.tbz
[hex.1.3.0] downloaded from https://github.com/mirage/ocaml-hex/releases/download/v1.3.0/hex-v1.3.0.tbz
[io-page.2.1.0] downloaded from https://github.com/mirage/io-page/releases/download/v2.1.0/io-page-v2.1.0.tbz
[io-page-unix.2.1.0] downloaded from https://github.com/mirage/io-page/releases/download/v2.1.0/io-page-v2.1.0.tbz
[ipaddr.3.0.0] downloaded from https://github.com/mirage/ocaml-ipaddr/releases/download/3.0.0/ipaddr-3.0.0.tbz
[irmin.1.4.0] downloaded from https://github.com/mirage/irmin/releases/download/1.4.0/irmin-1.4.0.tbz
[irmin-git.1.3.0] downloaded from https://github.com/mirage/irmin/releases/download/1.3.0/irmin-1.3.0.tbz
[jsonm.1.0.1] downloaded from http://erratique.ch/software/jsonm/releases/jsonm-1.0.1.tbz
[logs.0.6.2] downloaded from http://erratique.ch/software/logs/releases/logs-0.6.2.tbz
[macaddr.3.0.0] found in cache
[irmin-mem.1.3.0] downloaded from https://github.com/mirage/irmin/releases/download/1.3.0/irmin-1.3.0.tbz
[irmin-watcher.0.4.0] downloaded from https://github.com/mirage/irmin-watcher/releases/download/0.4.0/irmin-watcher-0.4.0.tbz
[magic-mime.1.1.1] downloaded from https://github.com/mirage/ocaml-magic-mime/releases/download/v1.1.1/magic-mime-v1.1.1.tbz
[mirage-channel.3.2.0] downloaded from https://github.com/mirage/mirage-channel/releases/download/v3.2.0/mirage-channel-v3.2.0.tbz
[mirage-channel-lwt.3.2.0] downloaded from https://github.com/mirage/mirage-channel/releases/download/v3.2.0/mirage-channel-v3.2.0.tbz
[mirage-clock.2.0.0] downloaded from https://github.com/mirage/mirage-clock/releases/download/v2.0.0/mirage-clock-v2.0.0.tbz
[mirage-device.1.2.0] downloaded from https://github.com/mirage/mirage-device/releases/download/v1.2.0/mirage-device-v1.2.0.tbz
[mirage-flow.1.5.0] downloaded from https://github.com/mirage/mirage-flow/releases/download/v1.5.0/mirage-flow-1.5.0.tbz
[mirage-flow-lwt.1.5.0] downloaded from https://github.com/mirage/mirage-flow/releases/download/v1.5.0/mirage-flow-1.5.0.tbz
[mirage-kv.1.1.1] downloaded from https://github.com/mirage/mirage-kv/releases/download/v1.1.1/mirage-kv-1.1.1.tbz
[mirage-kv-lwt.1.1.0] downloaded from https://github.com/mirage/mirage-kv/releases/download/v1.1.0/mirage-kv-1.1.0.tbz
[mtime.1.1.0] downloaded from http://erratique.ch/software/mtime/releases/mtime-1.1.0.tbz
[mstruct.1.4.0] downloaded from https://github.com/mirage/ocaml-mstruct/releases/download/v1.4.0/mstruct-1.4.0.tbz
[num.1.1] downloaded from https://github.com/ocaml/num/archive/v1.1.tar.gz
[ocaml-compiler-libs.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/ocaml-compiler-libs-v0.11.0.tar.gz
[nocrypto.0.5.4-1] downloaded from https://github.com/mirleft/ocaml-nocrypto/releases/download/v0.5.4/nocrypto-0.5.4.tbz
[ocaml-migrate-parsetree.1.2.0] downloaded from https://github.com/ocaml-ppx/ocaml-migrate-parsetree/releases/download/v1.2.0/ocaml-migrate-parsetree-v1.2.0.tbz
[ocamlgraph.1.8.8] downloaded from http://ocamlgraph.lri.fr/download/ocamlgraph-1.8.8.tar.gz
[ocb-stubblr.0.1.1-1] downloaded from https://github.com/pqwy/ocb-stubblr/releases/download/v0.1.1/ocb-stubblr-0.1.1.tbz
[parsexp.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/parsexp-v0.11.0.tar.gz
[ocplib-endian.1.0] downloaded from https://github.com/OCamlPro/ocplib-endian/archive/1.0.tar.gz
[ppx_derivers.1.0] downloaded from https://github.com/ocaml-ppx/ppx_derivers/archive/1.0.tar.gz
[ppx_fields_conv.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/ppx_fields_conv-v0.11.0.tar.gz
[ppx_deriving.4.2.1] downloaded from https://github.com/ocaml-ppx/ppx_deriving/archive/v4.2.1.tar.gz
[ppx_sexp_conv.v0.11.2] downloaded from https://github.com/janestreet/ppx_sexp_conv/archive/v0.11.2.tar.gz
[ppx_tools.5.1+4.06.0] downloaded from https://github.com/ocaml-ppx/ppx_tools/archive/5.1+4.06.0.tar.gz
[ppxlib.0.5.0] downloaded from https://github.com/ocaml-ppx/ppxlib/releases/download/0.5.0/ppxlib-0.5.0.tbz
[prometheus.0.5] downloaded from https://github.com/mirage/prometheus/releases/download/v0.5/prometheus-0.5.tbz
[protocol-9p.1.0.1] downloaded from https://github.com/mirage/ocaml-9p/releases/download/v1.0.1/protocol-9p-v1.0.1.tbz
[rresult.0.6.0] downloaded from http://erratique.ch/software/rresult/releases/rresult-0.6.0.tbz
[protocol-9p-unix.1.0.1] downloaded from https://github.com/mirage/ocaml-9p/releases/download/v1.0.1/protocol-9p-v1.0.1.tbz
[sexplib.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/sexplib-v0.11.0.tar.gz
[re.1.8.0] downloaded from https://github.com/ocaml/ocaml-re/releases/download/1.8.0/re-1.8.0.tbz
[sexplib0.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/sexplib0-v0.11.0.tar.gz
[stdio.v0.11.0] downloaded from https://ocaml.janestreet.com/ocaml-core/v0.11/files/stdio-v0.11.0.tar.gz
[uutf.1.0.2] downloaded from http://erratique.ch/software/uutf/releases/uutf-1.0.2.tbz
[stringext.1.5.0] downloaded from https://github.com/rgrinberg/stringext/archive/1.5.0.zip
[win-error.1.0] downloaded from https://github.com/mirage/ocaml-win-error/releases/download/1.0/win-error-1.0.tbz
[uri.2.2.0] downloaded from https://github.com/mirage/ocaml-uri/releases/download/v2.2.0/uri-v2.2.0.tbz
[zarith.1.7] downloaded from https://github.com/ocaml/Zarith/archive/release-1.7.tar.gz

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> installed mirage-no-solo5.1
-> installed mirage-no-xen.1
-> installed seq.base
-> installed asetmap.0.8.1
-> installed conf-gmp.1
-> installed conf-perl.1
-> installed cppo_ocamlbuild.1.6.0
-> installed logs.0.6.2
-> installed decompress.0.7
-> installed magic-mime.1.1.1
-> installed mirage-device.1.2.0
-> installed mirage-flow.1.5.0
-> installed mtime.1.1.0
-> installed ocaml-compiler-libs.v0.11.0
-> installed ppx_derivers.1.0
-> installed ppx_tools.5.1+4.06.0
-> installed base64.3.1.0
-> installed irmin-watcher.0.4.0
-> installed mirage-channel.3.2.0
-> installed mirage-clock.2.0.0
-> installed mirage-kv.1.1.1
-> installed re.1.8.0
-> installed rresult.0.6.0
-> installed sexplib0.v0.11.0
-> installed stringext.1.5.0
-> installed uutf.1.0.2
-> installed win-error.1.0
-> installed ocplib-endian.1.0
-> installed jsonm.1.0.1
-> installed macaddr.3.0.0
-> installed num.1.1
-> installed ocaml-migrate-parsetree.1.2.0
-> installed ocamlgraph.1.8.8
-> installed base.v0.11.1
-> installed ipaddr.3.0.0
-> installed ocb-stubblr.0.1.1-1
-> installed parsexp.v0.11.0
-> installed prometheus.0.5
-> installed zarith.1.7
-> installed cpuid.0.1.1
-> installed ppx_deriving.4.2.1
-> installed stdio.v0.11.0
-> installed sexplib.v0.11.0
-> installed cstruct.3.3.0
-> installed datakit-client.0.12.2
-> installed cstruct-lwt.3.6.0
-> installed hex.1.3.0
-> installed io-page.2.1.0
-> installed mirage-flow-lwt.1.5.0
-> installed mirage-kv-lwt.1.1.0
-> installed mstruct.1.4.0
-> installed io-page-unix.2.1.0
-> installed mirage-channel-lwt.3.2.0
-> installed ppxlib.0.5.0
-> installed fieldslib.v0.11.0
-> installed ppx_sexp_conv.v0.11.2
-> installed ppx_fields_conv.v0.11.0
-> installed uri.2.2.0
-> installed protocol-9p.1.0.1
-> installed conduit.1.4.0
-> installed protocol-9p-unix.1.0.1
-> installed cohttp.2.0.0
-> installed nocrypto.0.5.4-1
-> installed git.1.11.5
-> installed irmin.1.4.0
-> installed conduit-lwt.1.4.0
-> installed cohttp-lwt.2.0.0
-> installed irmin-mem.1.3.0
-> installed irmin-git.1.3.0
-> installed conduit-lwt-unix.1.4.0
-> installed git-http.1.11.4
-> installed cohttp-lwt-unix.2.0.0
-> installed git-unix.1.11.5
Done.
# Run eval $(opam env) to update the current shell environment
 ---> f54237dd3897
Removing intermediate container d5f049bc93bf
Removing intermediate container 9e0d105eee8d
Step 11/16 : COPY . /home/opam/src/datakit
 ---> bdc7afad965b
Removing intermediate container bd88bc92c210
Step 12/16 : RUN sudo chown opam.nogroup -R /home/opam/src/datakit
 ---> Running in f4736a421cc6
 ---> 4cc38859b1d8
Removing intermediate container f4736a421cc6
Step 13/16 : RUN opam update --dev && opam upgrade
 ---> Running in 58b523a82468

<><> Synchronising development packages <><><><><><><><><><><><><><><><><><><><>
[datakit.0.12.2] synchronised from file:///home/opam/src/datakit
[datakit-bridge-github.0.12.2] synchronised from file:///home/opam/src/datakit
[datakit-bridge-local-git.0.12.2] synchronised from file:///home/opam/src/datakit
[datakit-ci.0.12.2] synchronised from file:///home/opam/src/datakit
[datakit-client.0.12.2] synchronised from file:///home/opam/src/datakit
[datakit-client-9p.0.12.2] synchronised from file:///home/opam/src/datakit
[datakit-client-git.0.12.2] synchronised from file:///home/opam/src/datakit
[datakit-github.0.12.2] synchronised from file:///home/opam/src/datakit
[datakit-server.0.12.2] synchronised from file:///home/opam/src/datakit
[datakit-server-9p.0.12.2] synchronised from file:///home/opam/src/datakit
Now run 'opam upgrade' to apply any package updates.
The following actions will be performed:
  - recompile datakit-client 0.12.2* [upstream changes]
[datakit-client.0.12.2] no changes from file:///home/opam/src/datakit

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> removed   datakit-client.0.12.2
-> installed datakit-client.0.12.2
Done.
# Run eval $(opam env) to update the current shell environment
 ---> a6919dcee902
Removing intermediate container 58b523a82468
Step 14/16 : RUN opam install datakit-client-9p datakit-client-git -tyv
 ---> Running in ca5562db142a

<><> Synchronising pinned packages ><><><><><><><><><><><><><><><><><><><><><><>
Processing  1/2: [datakit-client-9p.0.12.2: rsync]
Processing  2/2: [datakit-client-9p.0.12.2: rsync] [datakit-client-git.0.12.2: rsync]
[datakit-client-9p.0.12.2] no changes from file:///home/opam/src/datakit
Processing  2/2: [datakit-client-git.0.12.2: rsync]
[datakit-client-git.0.12.2] no changes from file:///home/opam/src/datakit

The following actions will be performed:
  - install datakit-client-git 0.12.2*
  - install datakit-client-9p  0.12.2*
===== 2 to install =====
Processing  1/2: [datakit-client-9p.0.12.2: rsync]
Processing  2/2: [datakit-client-9p.0.12.2: rsync] [datakit-client-git.0.12.2: rsync]
[datakit-client-9p.0.12.2] synchronised from file:///home/opam/src/datakit
Processing  2/2: [datakit-client-git.0.12.2: rsync]
[datakit-client-git.0.12.2] synchronised from file:///home/opam/src/datakit

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
Processing  1/4: [datakit-client-9p: dune build]
Processing  2/4: [datakit-client-9p: dune build] [datakit-client-git: dune build]
+ /home/opam/.opam/4.07/bin/dune "build" "-p" "datakit-client-9p" "-j" "71" (CWD=/home/opam/.opam/4.07/.opam-switch/build/datakit-client-9p.0.12.2)
-> compiled  datakit-client-9p.0.12.2
Processing  2/4: [datakit-client-git: dune build]
-> installed datakit-client-9p.0.12.2
Processing  3/4: [datakit-client-git: dune build]
+ /home/opam/.opam/4.07/bin/dune "build" "-p" "datakit-client-git" "-j" "71" (CWD=/home/opam/.opam/4.07/.opam-switch/build/datakit-client-git.0.12.2)
Processing  3/4: [datakit-client-git: dune runtest]
+ /home/opam/.opam/4.07/bin/dune "runtest" "tests/datakit-git" (CWD=/home/opam/.opam/4.07/.opam-switch/build/datakit-client-git.0.12.2)
-         test alias tests/datakit-git/runtest
- /bin/sh: tput: not found
- stty: 'standard input': Not a tty
- +6135us irw-polling [INFO] Polling mode
- Testing datakit-git.
- This run has ID `AF472C74-5770-4981-88C9-D211D0C86A81`.
- [33m ...[m                [36mclient[m          0   Transaction.[32m[OK][m                [36mclient[m          0   Transaction.
- [33m ...[m                [36mclient[m          1   Watch.[32m[OK][m                [36mclient[m          1   Watch.
- [33m ...[m                [36mclient[m          2   Make dirs.[32m[OK][m                [36mclient[m          2   Make dirs.
- [33m ...[m                [36mclient[m          3   Truncate.[32m[OK][m                [36mclient[m          3   Truncate.
- [33m ...[m                [36mclient[m          4   Parents.[32m[OK][m                [36mclient[m          4   Parents.
- [33m ...[m                [36mclient[m          5   Merge.[32m[OK][m                [36mclient[m          5   Merge.
- [33m ...[m                [36mclient[m          6   Diff.[32m[OK][m                [36mclient[m          6   Diff.
- [33m ...[m                [36mclient[m          7   Merge_metadata.[32m[OK][m                [36mclient[m          7   Merge_metadata.
- [33m ...[m                [36mclient[m          8   Merge empty.[32m[OK][m                [36mclient[m          8   Merge empty.
- [33m ...[m                [36mclient[m          9   Conflicts.[32m[OK][m                [36mclient[m          9   Conflicts.
- [33m ...[m                [36mclient[m         10   Large write.[32m[OK][m                [36mclient[m         10   Large write.
- [33m ...[m                [36mclient[m         11   Remove.[32m[OK][m                [36mclient[m         11   Remove.
- [33m ...[m                [36mclient[m         12   Remotes.[33m[SKIP][m              [36mclient[m         12   Remotes.
- [33m ...[m                [36mclient[m         13   Create_or_replace.[33m[SKIP][m              [36mclient[m         13   Create_or_replace.
- The full test results are available in `/home/opam/.opam/4.07/.opam-switch/build/datakit-client-git.0.12.2/_build/default/tests/datakit-git/_build/_tests/AF472C74-5770-4981-88C9-D211D0C86A81`.
- [32mTest Successful[m in 0.540s. 12 tests run.
-> compiled  datakit-client-git.0.12.2
-> installed datakit-client-git.0.12.2
Done.
# Run eval $(opam env) to update the current shell environment
 ---> b7e7257600ef
Removing intermediate container ca5562db142a
Step 15/16 : RUN sudo mkdir /data && sudo chown opam.nogroup /data && chmod 700 /data &&     sudo cp $(opam config exec -- which datakit-mount) /usr/bin/datakit-mount
 ---> Running in af59a7d56192
 ---> 8498dfbd828a
Removing intermediate container af59a7d56192
Step 16/16 : CMD bash -c "/usr/bin/datakit-mount -h $(getent hosts datakit | awk '{print $1}')";     bash
 ---> Running in 48bc78ba8e46
 ---> 8af2fe7b8543
Removing intermediate container 48bc78ba8e46
Successfully built 8af2fe7b8543
[2019-04-13 20:07.59] Success
