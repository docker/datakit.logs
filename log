=== Docker build Dockerfile.ci
[2019-07-12 14:18.01] Starting...
Cloning into '/tmp/with_clone30fbcb1e'...
done.
HEAD is now at ff48fb6 ci: refresh git tags for opam-repository
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 6.128 MBSending build context to Docker daemon 6.384 MB
Step 1/16 : FROM ocaml/opam2:alpine
alpine: Pulling from ocaml/opam2
Digest: sha256:80f944d8924204d38d8c588a6906010ddfd6364c226a26077b99a95028270790
Status: Image is up to date for ocaml/opam2:alpine
 ---> bfd59b6fbeb7
Step 2/16 : RUN sudo apk add --no-cache tzdata aspcud gmp-dev perl libev-dev m4
 ---> Using cache
 ---> 3cfa4c307c86
Step 3/16 : ENV OPAMERRLOGLEN 0 OPAMYES 1
 ---> Using cache
 ---> 50805a708ef9
Step 4/16 : RUN git -C /home/opam/opam-repository fetch origin &&     git -C /home/opam/opam-repository reset 340acb7d88264bf29485b1d292388e1d91dc2214 --hard &&     opam update -u
 ---> Running in b00361a9e2a5
[91mFrom git://github.com/ocaml/opam-repository
   2a22479e66..340acb7d88  master     -> origin/master
[0m[91mChecking out files:  45% (6121/13330)[0m[91mChecking out files:  46% (6132/13330)[0m[91mChecking out files:  47% (6266/13330)[0m[91mChecking out files:  48% (6399/13330)[0m[91mChecking out files:  49% (6532/13330)[0m[91mChecking out files:  50% (6665/13330)[0m[91mChecking out files:  51% (6799/13330)[0m[91mChecking out files:  52% (6932/13330)[0m[91mChecking out files:  53% (7065/13330)[0m[91mChecking out files:  54% (7199/13330)[0m[91mChecking out files:  55% (7332/13330)[0m[91mChecking out files:  56% (7465/13330)[0m[91mChecking out files:  57% (7599/13330)[0m[91mChecking out files:  58% (7732/13330)[0m[91mChecking out files:  59% (7865/13330)[0m[91mChecking out files:  60% (7998/13330)[0m[91mChecking out files:  61% (8132/13330)[0m[91mChecking out files:  62% (8265/13330)[0m[91mChecking out files:  63% (8398/13330)[0m[91mChecking out files:  64% (8532/13330)[0m[91mChecking out files:  65% (8665/13330)[0m[91mChecking out files:  66% (8798/13330)[0m[91mChecking out files:  67% (8932/13330)[0m[91mChecking out files:  68% (9065/13330)[0m[91mChecking out files:  69% (9198/13330)[0m[91mChecking out files:  70% (9331/13330)[0m[91mChecking out files:  71% (9465/13330)[0m[91mChecking out files:  71% (9583/13330)[0m[91mChecking out files:  72% (9598/13330)[0m[91mChecking out files:  73% (9731/13330)[0m[91mChecking out files:  74% (9865/13330)[0m[91mChecking out files:  75% (9998/13330)[0m[91mChecking out files:  76% (10131/13330)[0m[91mChecking out files:  77% (10265/13330)[0m[91mChecking out files:  78% (10398/13330)[0m[91mChecking out files:  79% (10531/13330)[0m[91mChecking out files:  80% (10664/13330)[0m[91mChecking out files:  81% (10798/13330)[0m[91mChecking out files:  82% (10931/13330)[0m[91mChecking out files:  83% (11064/13330)[0m[91mChecking out files:  84% (11198/13330)[0m[91mChecking out files:  85% (11331/13330)[0m[91mChecking out files:  86% (11464/13330)[0m[91mChecking out files:  87% (11598/13330)[0m[91mChecking out files:  88% (11731/13330)[0m[91mChecking out files:  89% (11864/13330)[0m[91mChecking out files:  90% (11997/13330)[0m[91mChecking out files:  91% (12131/13330)[0m[91mChecking out files:  92% (12264/13330)[0m[91mChecking out files:  93% (12397/13330)[0m[91mChecking out files:  94% (12531/13330)[0m[91mChecking out files:  95% (12664/13330)[0m[91mChecking out files:  95% (12724/13330)[0m[91mChecking out files:  96% (12797/13330)[0m[91mChecking out files:  97% (12931/13330)[0m[91mChecking out files:  98% (13064/13330)[0m[91mChecking out files:  99% (13197/13330)[0m[91mChecking out files: 100% (13330/13330)Checking out files: 100% (13330/13330), done.
[0mHEAD is now at 340acb7d88 Merge pull request #14485 from avsm/release-cohttp-2.1.3

<><> Updating package repositories ><><><><><><><><><><><><><><><><><><><><><><>
[default] synchronised from git+file:///home/opam/opam-repository

Everything as up-to-date as possible (run with --verbose to show unavailable upgrades).
However, you may "opam upgrade" these packages explicitly, which will ask permission to downgrade or uninstall the conflicting packages.
Nothing to do.
# Run eval $(opam env) to update the current shell environment
 ---> d40a3b84087d
Removing intermediate container b00361a9e2a5
Step 5/16 : RUN opam install alcotest lwt conf-libev inotify
 ---> Running in e9568893908c
The following actions will be performed:
  - install cmdliner     1.0.4  [required by alcotest]
  - install conf-m4      1      [required by ocamlfind]
  - install conf-libev   4-11
  - install seq          base   [required by lwt]
  - install dune         1.10.0 [required by alcotest, lwt]
  - install ocamlbuild   0.14.0 [required by inotify]
  - install ocamlfind    1.8.0  [required by inotify]
  - install stdlib-shims 0.1.0  [required by fmt]
  - install result       1.4    [required by alcotest, lwt]
  - install mmap         1.1.0  [required by lwt]
  - install cppo         1.6.6  [required by lwt]
  - install base-bytes   base   [required by inotify]
  - install topkg        1.0.0  [required by fmt, astring, uuidm]
  - install lwt          4.2.1
  - install uuidm        0.9.7  [required by alcotest]
  - install fmt          0.8.6  [required by alcotest]
  - install astring      0.8.3  [required by alcotest]
  - install inotify      2.3
  - install alcotest     0.8.5
===== 19 to install =====

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[astring.0.8.3] downloaded from http://erratique.ch/software/astring/releases/astring-0.8.3.tbz
[cmdliner.1.0.4] downloaded from http://erratique.ch/software/cmdliner/releases/cmdliner-1.0.4.tbz
[cppo.1.6.6] downloaded from https://github.com/ocaml-community/cppo/releases/download/v1.6.6/cppo-v1.6.6.tbz
[fmt.0.8.6] downloaded from https://erratique.ch/software/fmt/releases/fmt-0.8.6.tbz
[alcotest.0.8.5] downloaded from https://github.com/mirage/alcotest/releases/download/0.8.5/alcotest-0.8.5.tbz
[dune.1.10.0] downloaded from https://github.com/ocaml/dune/releases/download/1.10.0/dune-1.10.0.tbz
[inotify.2.3] downloaded from https://github.com/whitequark/ocaml-inotify/archive/v2.3.tar.gz
[lwt.4.2.1] downloaded from https://github.com/ocsigen/lwt/archive/4.2.1.tar.gz
[mmap.1.1.0] downloaded from https://github.com/mirage/mmap/releases/download/v1.1.0/mmap-v1.1.0.tbz
[ocamlfind.1.8.0] downloaded from http://download.camlcity.org/download/findlib-1.8.0.tar.gz
[ocamlbuild.0.14.0] downloaded from https://github.com/ocaml/ocamlbuild/archive/0.14.0.tar.gz
[result.1.4] downloaded from https://github.com/janestreet/result/archive/1.4.tar.gz
[uuidm.0.9.7] downloaded from https://erratique.ch/software/uuidm/releases/uuidm-0.9.7.tbz
[topkg.1.0.0] downloaded from http://erratique.ch/software/topkg/releases/topkg-1.0.0.tbz
[stdlib-shims.0.1.0] downloaded from https://github.com/ocaml/stdlib-shims/releases/download/0.1.0/stdlib-shims-0.1.0.tbz

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> installed seq.base
-> installed conf-libev.4-11
-> installed conf-m4.1
-> installed cmdliner.1.0.4
-> installed ocamlfind.1.8.0
-> installed base-bytes.base
-> installed ocamlbuild.0.14.0
-> installed dune.1.10.0
-> installed stdlib-shims.0.1.0
-> installed mmap.1.1.0
-> installed result.1.4
-> installed cppo.1.6.6
-> installed lwt.4.2.1
-> installed topkg.1.0.0
-> installed uuidm.0.9.7
-> installed fmt.0.8.6
-> installed astring.0.8.3
-> installed alcotest.0.8.5
-> installed inotify.2.3
Done.
# Run eval $(opam env) to update the current shell environment
 ---> 5cd0d4f588c6
Removing intermediate container e9568893908c
Step 6/16 : COPY check-libev.ml /tmp/check-libev.ml
 ---> 4c8d2819f0b5
Removing intermediate container c4854702070c
Step 7/16 : RUN opam exec -- ocaml /tmp/check-libev.ml
 ---> Running in c25313b420fb
 ---> 0372ee422a67
Removing intermediate container c25313b420fb
Step 8/16 : COPY *.opam /home/opam/src/datakit/
 ---> ab3dbbb4d375
Removing intermediate container f9f8619233a6
Step 9/16 : RUN opam pin add /home/opam/src/datakit/ -n
 ---> Running in be3914fe606c
This will pin the following packages: datakit, datakit-server, datakit-server-9p, datakit-github, datakit-client, datakit-client-git, datakit-client-9p, datakit-ci, datakit-bridge-local-git, datakit-bridge-github. Continue? [Y/n] y
[datakit.0.12.3: rsync]
[datakit.0.12.3] synchronised from file:///home/opam/src/datakit
datakit is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-server.0.12.3: rsync]
[datakit-server.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-server is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-server-9p.0.12.3: rsync]
[datakit-server-9p.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-server-9p is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-github.0.12.3: rsync]
[datakit-github.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-github is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-client.0.12.3: rsync]
[datakit-client.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-client is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-client-git.0.12.3: rsync]
[datakit-client-git.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-client-git is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-client-9p.0.12.3: rsync]
[datakit-client-9p.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-client-9p is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-ci.0.12.4: rsync]
[datakit-ci.0.12.4] synchronised from file:///home/opam/src/datakit
datakit-ci is now pinned to file:///home/opam/src/datakit (version 0.12.4)
[datakit-bridge-local-git.0.12.3: rsync]
[datakit-bridge-local-git.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-bridge-local-git is now pinned to file:///home/opam/src/datakit (version 0.12.3)
[datakit-bridge-github.0.12.3: rsync]
[datakit-bridge-github.0.12.3] synchronised from file:///home/opam/src/datakit
datakit-bridge-github is now pinned to file:///home/opam/src/datakit (version 0.12.3)
 ---> 76c2b0fee7c8
Removing intermediate container be3914fe606c
Step 10/16 : RUN sudo apk add --no-cache libressl-dev linux-headers pcre-dev
 ---> Running in e7c3c64197b3
fetch http://dl-cdn.alpinelinux.org/alpine/v3.10/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.10/community/x86_64/APKINDEX.tar.gz
(1/10) Installing libressl2.7-libcrypto (2.7.5-r0)
(2/10) Installing libressl2.7-libssl (2.7.5-r0)
(3/10) Installing libressl2.7-libtls (2.7.5-r0)
(4/10) Installing libressl-dev (2.7.5-r0)
(5/10) Installing linux-headers (4.19.36-r0)
(6/10) Installing libpcre16 (8.43-r0)
(7/10) Installing libpcre32 (8.43-r0)
(8/10) Installing pcre (8.43-r0)
(9/10) Installing libpcrecpp (8.43-r0)
(10/10) Installing pcre-dev (8.43-r0)
Executing busybox-1.30.1-r2.trigger
Executing ca-certificates-20190108-r0.trigger
OK: 415 MiB in 136 packages
 ---> 7e23f47b9cbb
Removing intermediate container e7c3c64197b3
Step 11/16 : RUN opam install datakit-ci --deps -t
 ---> Running in 2ae0c4202e64

<><> Synchronising pinned packages ><><><><><><><><><><><><><><><><><><><><><><>
[datakit-ci.0.12.4] no changes from file:///home/opam/src/datakit

The following dependencies couldn't be met:
  - datakit-ci -> pbkdf -> nocrypto >= 0.5.0 -> ocaml < 4.06.0
      base of this switch (use `--unlock-base' to force)
  - datakit-ci -> pbkdf -> nocrypto >= 0.5.0 -> ppx_sexp_conv < v0.11.0 -> ppx_core != 113.34.00+4.03 -> base < v0.11 -> ocaml < 4.07.0
      base of this switch (use `--unlock-base' to force)
  - datakit-ci -> pbkdf -> nocrypto >= 0.5.0 -> ppx_sexp_conv < v0.11.0 -> ppx_core != 113.34.00+4.03 -> ocaml < 4.06.0
      base of this switch (use `--unlock-base' to force)
  - datakit-ci -> pbkdf -> nocrypto >= 0.5.0 -> ppx_sexp_conv < v0.11.0 -> ppx_core != 113.34.00+4.03 -> ppx_ast < v0.10 -> ocaml < 4.08.0
      base of this switch (use `--unlock-base' to force)
  - datakit-ci -> pbkdf -> nocrypto >= 0.5.0 -> ppx_sexp_conv < v0.11.0 -> ppx_core != 113.34.00+4.03 -> ppxlib < 0.3.0 -> ocaml < 4.08.0
      base of this switch (use `--unlock-base' to force)
  - datakit-ci -> pbkdf -> nocrypto >= 0.5.0 -> ppx_sexp_conv < v0.11.0 -> ocaml < 4.03
      base of this switch (use `--unlock-base' to force)
  - datakit-ci -> pbkdf -> nocrypto >= 0.5.0 -> sexplib < 113.01.00 -> ocaml < 4.03.0
      base of this switch (use `--unlock-base' to force)

No solution found, exiting
The command '/bin/sh -c opam install datakit-ci --deps -t' returned a non-zero code: 20
[2019-07-12 14:19.33] Failed: Command "docker" "build" "--pull" "-f" "Dockerfile.ci" "." exited with status 20
